(self.webpackJsonp=self.webpackJsonp||[]).push([[8,5],{393:function(e,t,n){"use strict";n.r(t);n(41),n(10),n(65);var r=n(0),a=n(39),i=n(1),s=n(68),o=n.n(s),l=n(25),c=n(170),p=n(440),d=n(164),h=n(477),u=n(88),m=n(106),g=n(211),b=n(107),f=n(620),v=n(719),y=n(835),E=n.n(y),x=n(52),w=n(557),C=n(515),S=n(2),k=n(7),O=n(474);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const j=e=>e.target.select();var L=Object(k.a)(class extends r.PureComponent{constructor(e){super(e),_(this,"state",void 0),_(this,"_reinitialize",()=>{if("ExpoSnack"in window){const e=document.querySelector("[data-snack-id]");window.ExpoSnack.remove(e),window.ExpoSnack.append(e)}}),_(this,"_maybeInsertScript",()=>{const e=`${window.location.protocol}//${window.location.host}/embed.js`;if(document.querySelectorAll(`script[src="${e}"]`).length)return void this._reinitialize();const t=document.createElement("script");t.async=!0,t.type="text/javascript",t.src=e,document.body&&document.body.appendChild(t)}),_(this,"_handleCopy",()=>{this.setState({copied:!0}),setTimeout(()=>this.setState({copied:!1}),1e3)}),_(this,"_handleTogglePreview",()=>this.setState(e=>({preview:!e.preview}))),_(this,"_handleToggleTheme",()=>this.setState(e=>({theme:"light"===e.theme?"dark":"light"}))),_(this,"_handleChangePlatform",e=>this.setState({platform:e})),this.state={platform:O.a.isAvailable("PLATFORM_WEB",this.props.sdkVersion)?"web":"android",preview:!0,theme:this.props.theme||"light",copied:!1}}componentDidMount(){this._maybeInsertScript()}componentDidUpdate(e,t){t.preview===this.state.preview&&t.platform===this.state.platform&&t.theme===this.state.theme||requestAnimationFrame(this._reinitialize)}render(){const e=this.state,t=e.platform,n=e.preview,a=e.theme,s=e.copied,o=window.location.protocol,l=window.location.host,c=`<div data-snack-id="${this.props.params&&this.props.params.id||""}" data-snack-platform="${t}" data-snack-preview="${String(n)}" data-snack-theme="${a}" style="overflow:hidden;background:${"light"===a?S.a.background.light:S.a.background.dark};border:1px solid rgba(0,0,0,.08);border-radius:4px;height:505px;width:100%"></div>`,p=`${c}\n<script async src="${o}//${l}/embed.js"><\/script>`;return r.createElement("div",{className:Object(i.css)(P.container)},r.createElement(d.a,{visible:s},"Copied to clipboard!"),r.createElement("div",{className:Object(i.css)(P.section)},r.createElement("h3",{className:Object(i.css)(P.header)},"Embed Preview"),r.createElement("div",{className:Object(i.css)(P.row,P.options)},r.createElement(C.a,{options:O.a.isAvailable("PLATFORM_WEB",this.props.sdkVersion)?[{label:"iOS",value:"ios"},{label:"Android",value:"android"},{label:"Web",value:"web"}]:[{label:"iOS",value:"ios"},{label:"Android",value:"android"}],value:t,onValueChange:this._handleChangePlatform,className:Object(i.css)(P.last)}),r.createElement(w.a,{checked:n,label:"Device Preview",onChange:this._handleTogglePreview}),r.createElement(w.a,{checked:"light"!==a,label:"Dark theme",onChange:this._handleToggleTheme})),r.createElement("div",{dangerouslySetInnerHTML:{__html:c}})),r.createElement("div",{className:Object(i.css)(P.section)},r.createElement("h3",{className:Object(i.css)(P.header)},"Embed Code"),r.createElement("div",{className:Object(i.css)(P.inputContainer)},r.createElement("input",{readOnly:!0,className:Object(i.css)(P.code,"light"===a?P.inputLight:P.inputDark),onClick:j,value:p}),r.createElement(E.a,{text:p,onCopy:this._handleCopy},r.createElement(x.a,{variant:"primary",className:Object(i.css)(P.copyButton)},"Copy to clipboard")))))}});const P=i.StyleSheet.create({container:{width:780,textAlign:"left"},header:{margin:".5em 0",fontWeight:500},options:{color:"#999",marginBottom:".5em"},last:{marginRight:0},row:{display:"flex",flexDirection:"row",alignItems:"center"},section:{":not(:last-of-type)":{paddingBottom:"1.5em"}},code:{fontFamily:"var(--font-monospace)",padding:"1em",width:"100%",outline:0,border:`1px solid ${S.a.border}`,borderRadius:3},inputLight:{backgroundColor:S.a.background.light,color:S.a.text.light},inputDark:{backgroundColor:"rgba(0, 0, 0, .2)",color:S.a.text.dark},inputContainer:{position:"relative"},copyButton:{position:"absolute",right:0}});var D=n(617),M=(n(113),n(114),n(212)),I=n(213),N=n(156);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var F=Object(k.a)(function(e){let t=e.title,n=e.label,a=e.responsive,s=e.children,o=e.theme,l=T(e,["title","label","responsive","children","theme"]);return r.createElement("button",R({},l,{className:Object(i.css)(A.button,"dark"===o?A.dark:A.light,l.disabled&&A.disabled)}),s,n?r.createElement("span",{className:Object(i.css)(A.label,a&&A.responsive)},n):null,r.createElement("span",{className:Object(i.css)(A.phantom)},r.createElement("span",{className:Object(i.css)(A.tooltip,"dark"===o?A.tooltipDark:A.tooltipLight)},t)))});const A=i.StyleSheet.create({button:{position:"relative",height:48,minWidth:48,margin:"0 4px",display:"flex",alignItems:"center",justifyContent:"center",appearance:"none",backgroundColor:"transparent",color:"inherit",padding:0,outline:0,border:0,borderRadius:3,whiteSpace:"nowrap",textDecoration:"none",":active":{opacity:.8}},dark:{fill:S.a.accent.dark},light:{fill:S.a.accent.light},disabled:{cursor:"not-allowed",pointerEvents:"none",opacity:.3},phantom:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:0,zIndex:1,":hover":{opacity:1,pointerEvents:"auto"}},tooltip:{position:"absolute",top:"100%",left:"50%",transform:"translateX(-50%)",marginLeft:-2.5,borderRadius:2,fontSize:12,padding:"4px 8px",whiteSpace:"nowrap",pointerEvents:"none",":before":{content:'""',width:0,height:0,borderLeft:"5px solid transparent",borderRight:"5px solid transparent",position:"absolute",top:-5,left:-2.5,marginLeft:"50%"}},tooltipLight:{backgroundColor:S.a.accent.light,color:"#fff",":before":{borderBottom:`5px solid ${S.a.accent.light}`}},tooltipDark:{backgroundColor:S.a.accent.dark,color:"#000",":before":{borderBottom:`5px solid ${S.a.accent.dark}`}},label:{margin:"0 12px",color:Object(N.a)("text")},responsive:{"@media (max-width: 960px)":{display:"none"}}});var z=n(839),$=n.n(z),W=n(621),U=(n(116),n(36)),B=n.n(U);function V(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Z=13,q=27;var Q=Object(k.a)(class extends r.Component{constructor(){var e,t;super(...arguments),e=this,H(this,"state",{value:this.props.value||"",focused:!1}),H(this,"_handleChangeText",e=>this.setState({value:e.target.value})),H(this,"_handleFocus",e=>{e.target.select(),this.setState({focused:!0})}),H(this,"_handleBlur",(t=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.onSubmitText(e.state.value);case 2:e.setState({focused:!1});case 3:case"end":return t.stop()}},t,this)}),function(){var e=this,n=arguments;return new Promise(function(r,a){var i=t.apply(e,n);function s(e){V(i,r,a,s,o,"next",e)}function o(e){V(i,r,a,s,o,"throw",e)}s(void 0)})})),H(this,"_handleKeyDown",e=>{e.keyCode!==Z&&e.keyCode!==q||e.target.blur()})}static getDerivedStateFromProps(e,t){return t.value===e.value||t.focused?null:{value:e.value||""}}render(){return r.createElement("div",{className:Object(i.css)(Y.container)},r.createElement("div",{className:B()(Object(i.css)(Y.field,Y.phantom),this.props.className)},this.state.value.replace(/\n/g,"")," "),r.createElement("input",{onFocus:this._handleFocus,onBlur:this._handleBlur,onKeyDown:this._handleKeyDown,value:this.state.value,onChange:this._handleChangeText,className:B()(Object(i.css)(Y.field,Y.editable,"dark"===this.props.theme?Y.editableDark:Y.editableLight),this.props.className)}))}});const Y=i.StyleSheet.create({container:{display:"flex",alignItems:"center",maxWidth:"100%",position:"relative"},field:{display:"inline-block",margin:0,padding:"1px 6px"},editable:{position:"absolute",appearance:"none",background:"none",outline:0,border:0,left:0,width:"100%",borderRadius:0,":focus":{boxShadow:`inset 0 0 0 1px ${S.a.primary}`},":hover:focus":{boxShadow:`inset 0 0 0 1px ${S.a.primary}`}},editableLight:{":hover":{boxShadow:"inset 0 0 0 1px rgba(0, 0, 0, .16)"}},editableDark:{":hover":{boxShadow:"inset 0 0 0 1px rgba(255, 255, 255, .16)"}},phantom:{display:"inline-block",maxWidth:"100%",pointerEvents:"none",whiteSpace:"pre",overflow:"hidden",opacity:0}});var K=n(495);function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const X=r.createContext(void 0);class G extends r.Component{constructor(){super(...arguments),J(this,"state",{isValid:!1}),J(this,"_key",0),J(this,"_inputs",[]),J(this,"_register",e=>{let t=e.validate,n=e.focus;const r=this._key++;return this._inputs.push({key:r,validate:t,focus:n}),r}),J(this,"_unregister",e=>{this._inputs=this._inputs.filter(t=>t.key!==e)}),J(this,"_update",()=>this.setState({isValid:this._inputs.every(e=>!e.validate())})),J(this,"_handleSubmit",e=>{e.preventDefault();var t=!0,n=!1,r=void 0;try{for(var a,i=this._inputs[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){const e=a.value;if(e.validate())return void e.focus()}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}this.props.onSubmit()})}componentDidMount(){this._update()}render(){return r.createElement(X.Provider,{value:{register:this._register,unregister:this._unregister,update:this._update,valid:this.state.isValid}},r.createElement("form",{onSubmit:this._handleSubmit},this.props.children))}}var ee=n(850);function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ne(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var re=Object(k.a)(function(e){let t=e.theme,n=ne(e,["theme"]);return r.createElement(ee.a,te({className:Object(i.css)(ae.input,"light"===t?ae.inputLight:ae.inputDark)},n))});const ae=i.StyleSheet.create({input:{outline:0,fontSize:16,borderRadius:3,padding:"12px 14px 12px 14px",lineHeight:"22px",border:"1px solid rgba(36, 44, 58, 0.1)",width:"100%",":focus":{borderColor:S.a.primary}},inputLight:{backgroundColor:"#FFFFFF"},inputDark:{backgroundColor:"rgba(0, 0, 0, .16)"}});function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le=n(172);function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const pe=function(e){function t(t){return r.createElement(X.Consumer,null,function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{valid:!0};return r.createElement(e,ie({disabled:!n.valid},t))})}return t.displayName=`withValidation(${e.displayName||e.name})`,t}(x.a),de=function(e){class t extends r.Component{constructor(){super(...arguments),oe(this,"state",{initial:!0,error:null,value:this.props.value}),oe(this,"_key",0),oe(this,"_root",r.createRef()),oe(this,"_validate",()=>this.props.validate(this.props.value)),oe(this,"_focus",()=>{this._root.current.focus&&this._root.current.focus(),this.state.initial&&this.setState({initial:!1,error:this.props.validate(this.props.value)})})}static getDerivedStateFromProps(e,t){const n=t.value===e.value&&t.initial;return{initial:n,error:n?null:e.validate?e.validate(e.value):null,value:e.value}}componentDidMount(){this._key=this.props.validation.register({validate:this._validate,focus:this._focus})}componentDidUpdate(e){e.value!==this.props.value&&this.props.validation.update()}componentWillUnmount(){this.props.validation.unregister(this._key)}render(){return r.createElement(e,se({ref:this._root,error:this.state.error},this.props))}}return oe(t,"displayName",`withValidation(${e.displayName||e.name})`),e=>r.createElement(X.Consumer,null,n=>r.createElement(t,se({validation:n},e)))}(K.a);class he extends r.Component{constructor(){super(...arguments),ce(this,"state",{name:this.props.name||"",description:this.props.description||"",visible:this.props.visible}),ce(this,"_handleSubmit",()=>{this.props.onSubmit({name:this.state.name,description:this.state.description})}),ce(this,"_validateName",e=>e?/^[a-z_\-\d\s]+$/i.test(e)?null:new Error("Name can only contain letters, numbers, space, hyphen (-) and underscore (_)."):new Error("Name cannot be empty."))}static getDerivedStateFromProps(e,t){return t.visible!==e.visible?e.visible?{name:e.name||"",description:e.description||"",visible:e.visible}:{visible:e.visible}:null}render(){const e=this.props,t=e.visible,n=e.title,a=e.onDismiss,s=e.isWorking,o=e.action;return r.createElement(p.a,{visible:t,title:n,onDismiss:a},r.createElement(G,{onSubmit:this._handleSubmit},r.createElement("h4",{className:Object(i.css)(ue.subtitle)},"Project name"),r.createElement(de,{autoFocus:!0,value:this.state.name,onChange:e=>this.setState({name:e.target.value}),placeholder:"Unnamed Snack",validate:this._validateName}),r.createElement("h4",{className:Object(i.css)(ue.subtitle)},"Description"),r.createElement(re,{value:this.state.description,onChange:e=>this.setState({description:e.target.value}),minRows:4,placeholder:le.a}),r.createElement("div",{className:Object(i.css)(ue.buttons)},r.createElement(pe,{type:"submit",large:!0,variant:"secondary",loading:s},o))))}}const ue=i.StyleSheet.create({subtitle:{fontSize:16,fontWeight:500,padding:0,lineHeight:"22px",margin:"16px 0 6px 0"},buttons:{margin:"20px 0 0 0"},caption:{marginTop:24,fontSize:"16px",lineHeight:"22px",textAlign:"center"},link:{cursor:"pointer",color:S.a.primary,textDecoration:"underline"}});function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge=Object(k.a)(class extends r.Component{constructor(){super(...arguments),me(this,"state",{date:new Date}),me(this,"_timer",void 0),me(this,"_handleSubmitTitle",e=>this.props.onSubmitMetadata({name:e,description:this.props.description||""}))}componentDidMount(){this._timer=setInterval(()=>this.setState({date:new Date}),1e4)}componentWillUnmount(){clearInterval(this._timer)}render(){const e=this.props,t=e.description,n=e.name,a=e.createdAt,s=e.saveHistory,o=e.saveStatus,l=e.viewer,c=e.theme,p=e.isEditModalVisible,d=e.onShowPreviousSaves,h=e.onShowEditModal,u=e.onSubmitMetadata,m=e.onDismissEditModal,g=e.onLogInClick,b=s.length?s[0]:null,f=b?b.savedAt:a,v=!!s&&s.some(e=>!e.isDraft);let y;if(l){if("saving-draft"===o)y="Saving changes…";else if(f){const e=new Date(f),t=this.state.date>e?`${$()(this.state.date,e,{includeSeconds:!0,addSuffix:!0})}`:"";y="changed"===o?`Last saved ${t}`:`All changes saved ${t}`}else y="Not saved yet";y=r.createElement(r.Fragment,null,r.createElement("span",{className:Object(i.css)(be.statusText)},y,".")," ",v?r.createElement("button",{onClick:d,className:Object(i.css)(be.textButton)},"See previous saves."):null)}else y=r.createElement(r.Fragment,null,r.createElement("button",{onClick:g,className:Object(i.css)(be.textButton)},"Log in")," ",r.createElement("span",{className:Object(i.css)(be.statusText)},"to save your changes as you work"));return r.createElement("div",{className:Object(i.css)(be.container)},r.createElement("div",{className:Object(i.css)(be.header)},r.createElement("div",{className:Object(i.css)(be.titleContainer)},r.createElement("h1",{className:Object(i.css)(be.title)},r.createElement(Q,{value:n,onSubmitText:this._handleSubmitTitle})),r.createElement(W.a,{content:r.createElement(r.Fragment,null,r.createElement("p",{className:Object(i.css)(be.description)},t||le.a),r.createElement("button",{onClick:h,className:Object(i.css)(be.editButton)},"Edit details"))},r.createElement("button",{className:Object(i.css)(be.icon,"light"===c?be.infoLight:be.infoDark)}))),r.createElement("div",{className:Object(i.css)(be.metadata)},r.createElement("p",{className:Object(i.css)(be.status)},y),l&&"saving-draft"===o?r.createElement("div",{className:Object(i.css)(be.spinner)}):null,l&&"saved-draft"===o||"published"===o?r.createElement("svg",{className:Object(i.css)(be.check),width:"11px",height:"8px",viewBox:"0 0 11 8"},r.createElement("polygon",{fill:"#4CAF50",points:"3.34328358 6.32835821 0.835820896 3.82089552 0 4.65671642 3.34328358 8 10.5074627 0.835820896 9.67164179 0"})):null)),r.createElement(he,{title:"Edit Snack Details",action:"Done",visible:p,onDismiss:m,onSubmit:e=>{u(e),m()},description:t,name:n}))}});const be=i.StyleSheet.create({container:{display:"flex",alignItems:"center",minWidth:0,height:"100%"},header:{padding:2,minWidth:0},title:{fontSize:"1.3em",lineHeight:"1.3em",fontWeight:500,margin:0,textOverflow:"ellipsis",overflow:"hidden"},titleContainer:{display:"flex",flexDirection:"row",alignItems:"flex-end"},metadata:{display:"flex",flexDirection:"row",alignItems:"center"},status:{fontSize:12,margin:"0 6px",textOverflow:"ellipsis",overflow:"hidden"},textButton:{appearance:"none",background:"none",border:0,margin:0,padding:0,textDecoration:"underline"},statusText:{opacity:.5},spinner:{borderStyle:"solid",borderTopColor:S.a.primary,borderLeftColor:S.a.primary,borderBottomColor:S.a.primary,borderRightColor:"rgba(0, 0, 0, .16)",borderWidth:1,height:12,width:12,borderRadius:"50%",margin:"0 4px",animationDuration:"1s",animationName:[{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}],animationIterationCount:"infinite",animationTimingFunction:"linear"},check:{marginBottom:-4},icon:{display:"block",position:"relative",appearance:"none",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:16,backgroundPosition:"center",border:0,outline:0,margin:0,padding:0,height:24,width:24,opacity:.3,transition:".2s",":hover":{opacity:.8}},description:{margin:16},modal:{padding:"1em 1.5em",borderRadius:3,width:360,maxWidth:"100%",boxShadow:"0 1px 8px rgba(0, 0, 0, 0.07)"},infoLight:{backgroundImage:`url(${n(624)})`},infoDark:{backgroundImage:`url(${n(625)})`},editButton:{width:"100%",background:"none",outline:0,borderWidth:"1px 0 0 0",borderColor:S.a.border,padding:"8px 16px"}});n(117),n(64);var fe=n(69),ve=n.n(fe);function ye(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Ee(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function s(e){ye(i,r,a,s,o,"next",e)}function o(e){ye(i,r,a,s,o,"throw",e)}s(void 0)})}}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const we=45e3;var Ce=Object(k.a)(class extends r.PureComponent{constructor(){var e;super(...arguments),e=this,xe(this,"state",{status:"idle",description:this.props.description}),xe(this,"_handleClick",Ee(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"idle"===e.state.status?e._handleReimport():"error"===e.state.status&&e._handleDismissError();case 1:case"end":return t.stop()}},t,this)}))),xe(this,"_handleDismissError",()=>{this.setState({status:"idle",description:this.props.description})}),xe(this,"_handleReimport",Ee(regeneratorRuntime.mark(function t(){var n,r,a,i,s,o,l,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({status:"importing",description:"Importing latest commit..."}),t.prev=1,n=setTimeout(()=>{"importing"===e.state.status&&e.setState({status:"error"})},we),t.next=5;break;case 5:return r=window.location.href.split("/@git/")[1],a=r.match(/([\w,\-,\_,\.]+)\/([\w,\-,\_]+)\/([\w,\-,\_]+)/),i=`https://${a?a[0]:""}`,s={repo:i},(o=r.match(/:([\w,\-,\_.\/]+)/))&&(s.subpath=o[0].slice(1)),(l=r.match(/@([\w,\-,\_.\/]+)/))&&(s.branch=l[0].slice(1)),t.next=16,fetch(`https://snackager.expo.io/git?${ve.a.stringify(s)}`);case 16:if(c=t.sent,clearTimeout(n),!c.ok){t.next=23;break}window.location.reload(),e.setState({status:"idle",description:e.props.description}),t.next=26;break;case 23:return t.next=25,c.text();case 25:throw t.sent;case 26:t.next=31;break;case 28:t.prev=28,t.t0=t.catch(1),e.setState({status:"error",description:"There was an error updating your project"});case 31:case"end":return t.stop()}},t,this,[[1,28]])})))}render(){const e=this.state,t=e.status,n=e.description;return r.createElement("div",{className:Object(i.css)(ke.container)},r.createElement("div",{className:Object(i.css)(ke.header)},r.createElement("div",{className:Object(i.css)(ke.titleContainer)},r.createElement("h1",{className:Object(i.css)(ke.title)},this.props.name)),r.createElement("p",{className:Object(i.css)(ke.description),style:{opacity:"error"!==t?.5:1}},r.createElement("svg",{className:"importing"!==t?Object(i.css)(ke.reimportBtn):Object(i.css)(ke.spinningBtn),xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",onClick:this._handleClick,style:{fill:"error"===t?"red":void 0}},r.createElement("path",{d:"error"!==t?"M9 13.5c-2.49 0-4.5-2.01-4.5-4.5S6.51 4.5 9 4.5c1.24 0 2.36.52 3.17 1.33L10 8h5V3l-1.76 1.76C12.15 3.68 10.66 3 9 3 5.69 3 3.01 5.69 3.01 9S5.69 15 9 15c2.97 0 5.43-2.16 5.9-5h-1.52c-.46 2-2.24 3.5-4.38 3.5z":"M9 1C4.58 1 1 4.58 1 9s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm4 10.87L11.87 13 9 10.13 6.13 13 5 11.87 7.87 9 5 6.13 6.13 5 9 7.87 11.87 5 13 6.13 10.13 9 13 11.87z"})),r.createElement("span",{className:"error"===t?Object(i.css)(ke.error):""},n))))}});const Se={"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}},ke=i.StyleSheet.create({container:{display:"flex",flexDirection:"row",alignItems:"center",minWidth:0,margin:"0 1em",padding:".25em 0"},header:{display:"block",appearance:"none",backgroundColor:"transparent",outline:0,padding:0,margin:0,border:0,minWidth:0,textAlign:"left",whiteSpace:"nowrap","@media (max-width: 480px)":{whiteSpace:"normal"}},title:{fontSize:"1.3em",fontWeight:500,margin:0,textOverflow:"ellipsis",overflow:"hidden"},titleContainer:{display:"flex",flexDirection:"row",alignItems:"flex-end"},description:{display:"flex",alignItems:"center",margin:"0 0 -.25em",textOverflow:"ellipsis",overflow:"hidden","@media (max-width: 480px)":{margin:".5em 0 0"}},error:{color:"red"},reimportBtn:{cursor:"pointer"},spinningBtn:{animationDuration:"1s",animationName:[Se],animationIterationCount:"infinite",animationTimingFunction:"linear"}});var Oe=n(659),_e=n(667);function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Le extends r.Component{constructor(){super(...arguments),je(this,"state",{query:"",focused:!1}),je(this,"_handleChange",e=>this.setState({query:e.target.value})),je(this,"_handleClick",()=>{this.setState({query:"",focused:!0})}),je(this,"_handleDismiss",()=>this.setState({query:"",focused:!1}))}render(){return r.createElement(r.Fragment,null,r.createElement(F,{responsive:this.props.responsive,title:"Search for Snacks",label:"Search",onClick:this._handleClick,"data-test-id":"search-button"},r.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 18 18"},r.createElement("g",{transform:"translate(-88.000000, -9.000000)",fillRule:"evenodd"},r.createElement("path",{transform:"translate(88.000000, 9.000000)",d:"M13.1484375,10.96875 C13.8515625,9.8625 14.2640625,8.55 14.2640625,7.1390625 C14.2640625,3.196875 11.071875,0 7.134375,0 C3.1921875,0 0,3.196875 0,7.1390625 C0,11.08125 3.1921875,14.278125 7.1296875,14.278125 C8.559375,14.278125 9.890625,13.85625 11.00625,13.134375 L11.3296875,12.909375 L16.4203125,18 L18,16.3921875 L12.9140625,11.3015625 L13.1484375,10.96875 L13.1484375,10.96875 Z M11.128125,3.15 C12.1921875,4.2140625 12.778125,5.6296875 12.778125,7.134375 C12.778125,8.6390625 12.1921875,10.0546875 11.128125,11.11875 C10.0640625,12.1828125 8.6484375,12.76875 7.14375,12.76875 C5.6390625,12.76875 4.2234375,12.1828125 3.159375,11.11875 C2.0953125,10.0546875 1.509375,8.6390625 1.509375,7.134375 C1.509375,5.6296875 2.0953125,4.2140625 3.159375,3.15 C4.2234375,2.0859375 5.6390625,1.5 7.14375,1.5 C8.6484375,1.5 10.0640625,2.0859375 11.128125,3.15 L11.128125,3.15 Z"})))),r.createElement(Oe.a,{className:Object(i.css)(Pe.modal),visible:this.state.focused,onDismiss:this._handleDismiss},r.createElement("input",{type:"search",autoFocus:!0,onChange:this._handleChange,placeholder:"Search for Snacks…",className:Object(i.css)(Pe.input),"data-test-id":"search-input"}),r.createElement("div",{className:Object(i.css)(Pe.results)},r.createElement(c.a,{load:()=>Promise.all([n.e(21),n.e(11)]).then(n.bind(null,1072))},e=>{let t=e.loaded,n=e.data;return t&&n?r.createElement(n,{query:this.state.query}):r.createElement("div",{className:Object(i.css)(Pe.loadingContainer)},this.state.query?r.createElement(u.a,null):null,r.createElement(_e.a,{label:this.state.query?"Searching…":"Results will appear here."}))}))))}}const Pe=i.StyleSheet.create({input:{width:"100%",appearance:"none",fontSize:16,padding:"16px 24px 16px 56px",borderWidth:"0 0 1px 0",borderColor:S.a.border,backgroundColor:"transparent",backgroundImage:`url(${n(851)})`,backgroundSize:16,backgroundRepeat:"no-repeat",backgroundPosition:"24px center",transition:"150ms",":focus":{outline:0}},modal:{display:"flex",flexDirection:"column",width:640,height:480,maxWidth:"calc(100vw - 160px)",maxHeight:"calc(100vh - 160px)"},results:{display:"flex",flexDirection:"column",flex:1,textAlign:"left"},loadingContainer:{display:"flex",flex:1}});function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Me extends r.Component{constructor(){super(...arguments),De(this,"state",{loaded:!1}),De(this,"_handleLoad",()=>this.setState({loaded:!0}))}render(){return r.createElement("div",{className:Object(i.css)(Ie.container),style:{width:this.props.size,height:this.props.size,borderRadius:this.props.size/2}},r.createElement("div",{className:Object(i.css)(Ie.background),style:{opacity:this.state.loaded?1:0}}),this.props.source?r.createElement("img",{className:Object(i.css)(Ie.avatar),src:this.props.source,onLoad:this._handleLoad}):null)}}const Ie=i.StyleSheet.create({container:{position:"relative",overflow:"hidden",margin:"auto"},avatar:{position:"relative",height:"100%",width:"100%",margin:0,display:"block",transition:"100ms linear opacity",zIndex:1},background:{position:"absolute",top:0,left:0,height:"100%",width:"100%",opacity:.2,backgroundColor:"currentColor"}});var Ne=n(530);function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const Te=35,Fe=28;class Ae extends r.PureComponent{render(){const e=this.props,t=e.visible,n=e.position,a=e.actions,s=e.theme,o=e.onHide,l=e.className,c=e.innerRef;if(!t)return null;const p=a.filter(e=>e);return r.createElement("ul",{ref:c,className:B()(Object(i.css)($e.menu,"dark"===s?$e.menuDark:$e.menuLight),l),style:n?{position:"fixed",top:Math.min(n.pageY,window.innerHeight-Te-p.length*Fe),left:n.pageX,marginTop:-8}:{}},p.map(e=>{let t=e.label,n=e.handler,a=e.disabled,s=e.combo;return r.createElement("li",{key:t},r.createElement("button",{disabled:a,className:Object(i.css)($e.item,a&&$e.disabled),onClick:()=>{n(),o()}},r.createElement("div",null,t),s?r.createElement("kbd",{className:Object(i.css)($e.hint)},r.createElement(Ne.a,{combo:s})):null))}))}}var ze=Object(k.a)(r.forwardRef((e,t)=>r.createElement(Ae,Re({},e,{innerRef:t}))));const $e=i.StyleSheet.create({menu:{zIndex:10,listStyle:"none",padding:4,borderRadius:3,borderStyle:"solid",boxShadow:"0px 2px 6px rgba(0, 0, 0, 0.16)",minWidth:160,animationName:{from:{opacity:0},to:{opacity:1}},animationDuration:"0.083s",animationTimingfunction:"linear",backgroundColor:Object(N.a)("content"),borderColor:Object(N.a)("editor-border"),color:Object(N.a)("text")},menuLight:{borderWidth:0},menuDark:{borderWidth:1,borderStyle:"solid"},item:{lineHeight:1,display:"flex",justifyContent:"space-between",appearance:"none",background:"none",border:0,outline:0,width:"100%",padding:"8px 12px",textAlign:"left",userSelect:"none",borderRadius:2,":hover":{background:Object(N.a)("primary"),color:"white"}},disabled:{pointerEvents:"none",opacity:.5},hint:{color:"inherit",fontFamily:"inherit",fontSize:"inherit",backgroundColor:"transparent",boxShadow:"none",marginLeft:24,opacity:.3}});var We=n(157);function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Be=Object(We.a)(class extends r.Component{constructor(){super(...arguments),Ue(this,"state",{visible:!1,isLoggingIn:!1}),Ue(this,"_handleDocumentClick",e=>{this.state.visible?this._menu.current&&e.target!==this._menu.current&&!this._menu.current.contains(e.target)&&this._hideMenu():this._avatar.current&&(e.target===this._avatar.current||this._avatar.current.contains(e.target))&&this.setState(e=>({visible:!e.visible}))}),Ue(this,"_handleDocumentContextMenu",()=>{this.state.visible&&this._hideMenu()}),Ue(this,"_hideMenu",()=>this.setState({visible:!1})),Ue(this,"_menu",r.createRef()),Ue(this,"_avatar",r.createRef())}componentDidMount(){document.addEventListener("click",this._handleDocumentClick),document.addEventListener("contextmenu",this._handleDocumentContextMenu)}componentWillUnmount(){document.removeEventListener("click",this._handleDocumentClick),document.removeEventListener("contextmenu",this._handleDocumentContextMenu)}render(){const e=this.props,t=e.viewer,a=e.logout;return r.createElement("div",{className:Object(i.css)(Ve.container)},r.createElement("button",{ref:this._avatar,className:Object(i.css)(Ve.button)},r.createElement(Me,{source:t&&t.picture?t.picture:n(852),size:40})),r.createElement(ze,{ref:this._menu,visible:this.state.visible,actions:t?[{label:"View profile",handler:()=>window.open(`https://expo.io/@${t.username}/`)},{label:"View snacks",handler:()=>window.open(`https://expo.io/snacks/@${t.username}/`)},{label:"Edit account",handler:()=>window.open("https://expo.io/settings/profile/")},{label:"Log out",handler:a}]:[{label:"Log in",handler:this.props.onLogInClick}],onHide:this._hideMenu,className:Object(i.css)(Ve.menu)}))}});const Ve=i.StyleSheet.create({container:{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",margin:"0 16px 0 12px"},menu:{position:"absolute",margin:"10px 0",right:0,top:"100%"},button:{appearance:"none",background:"transparent",padding:0,margin:0,border:0,outline:0}});var He=n(497),Ze=n(160);function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Qe(e){const t=qe(r.useState(!1),2),a=t[0],s=t[1],o=qe(Object(Ze.a)(),1)[0],l=e.name,c=e.description,p=e.createdAt,d=e.saveHistory,h=e.saveStatus,u=e.viewer,m=e.isDownloading,g=e.isResolving,b=e.isEditModalVisible,f=e.isAuthModalVisible,v=e.onSubmitMetadata,y=e.onShowPreviousSaves,E=e.onShowEditModal,w=e.onDismissEditModal,C=e.onShowAuthModal,S=e.onDismissAuthModal,k=e.onShowEmbedCode,O=e.onDownloadCode,_=e.onShowQRCode,j=e.onPublishAsync,L=e.creatorUsername,P=o.theme,D=()=>{s(!0),C()},N=()=>{s(!1),S()},R="publishing"===h,T="published"===h;return r.createElement(M.a,null,r.createElement(I.a,null,r.createElement("img",{src:n("dark"===P?586:668),alt:"Snack",className:Object(i.css)(Ye.logo)}),"git"===L&&l&&c?r.createElement(Ce,{name:l,description:c}):r.createElement(ge,{name:l,description:c,createdAt:p,saveHistory:d,saveStatus:h,viewer:u,onLogInClick:D,isEditModalVisible:b,onSubmitMetadata:v,onShowPreviousSaves:y,onShowEditModal:E,onDismissEditModal:w})),r.createElement("div",{className:Object(i.css)(Ye.buttons)},r.createElement(Le,{responsive:!0}),r.createElement(F,{responsive:!0,title:"Run on device",label:"Run",onClick:_},r.createElement("svg",{width:"16px",height:"20px",viewBox:"0 0 16 20"},r.createElement("polygon",{points:"0 0 0 20 16 10"}))),r.createElement(F,{responsive:!0,title:"Export to expo-cli",label:"Export",onClick:O,disabled:m||R},r.createElement("svg",{width:"24px",height:"16px",viewBox:"0 0 24 16"},r.createElement("g",{transform:"translate(-5976.000000, -4236.000000)"},r.createElement("path",{transform:"translate(5976.000000, 4236.000000)",d:"M19.3501,6.05005 C18.6499,2.6001 15.6499,0 12,0 C9.1001,0 6.6001,1.6499 5.3501,4.05005 C2.3501,4.3501 0,6.8999 0,10 C0,13.2998 2.69995,16 6,16 L19,16 C21.75,16 24,13.75 24,11 C24,8.3501 21.9502,6.19995 19.3501,6.05005 L19.3501,6.05005 Z M10.4,8.6 L10.4,4.8 L13.6,4.8 L13.6,8.6 L17,8.6 L12,13.6 L7,8.6 L10.4,8.6 L10.4,8.6 Z"})))),r.createElement(F,{responsive:!0,title:"Show embed code",label:"Embed",onClick:k},r.createElement("svg",{width:"20px",height:"18px",viewBox:"0 0 20 18"},r.createElement("path",{fillRule:"evenodd",d:"M0,6.76551724 L6.02049911,1.59310345 L6.02049911,4.34482759 L1.8872549,7.77931034 L1.8872549,7.86206897 L6.02049911,11.2965517 L6.02049911,14.0482759 L0,8.87586207 L0,6.76551724 Z M8.39349376,18 L6.47504456,18 L11.6065062,0 L13.5249554,0 L8.39349376,18 Z M20,8.87586207 L13.9795009,14.0482759 L13.9795009,11.2965517 L18.1127451,7.86206897 L18.1127451,7.77931034 L13.9795009,4.34482759 L13.9795009,1.59310345 L20,6.76551724 L20,8.87586207 Z"}))),r.createElement(x.a,{variant:"accent",onClick:j,disabled:R||g||T,loading:R,className:Object(i.css)(Ye.saveButton)},R?"Saving…":T?"Saved":"Save"),r.createElement(Be,{onLogInClick:D}),r.createElement(He.a,{visible:a&&f,onDismiss:N,onComplete:N})))}const Ye=i.StyleSheet.create({logo:{width:36,height:"auto",margin:"0 .5em 0 .75em"},buttons:{display:"flex",flexDirection:"row",alignItems:"center",position:"relative",zIndex:5},saveButton:{minWidth:100}});function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Je extends r.PureComponent{constructor(){super(...arguments),Ke(this,"state",{resizing:!1,initialPosition:null,initialWidth:0,initialHeight:0}),Ke(this,"_handleMouseDown",e=>{if(!this._pane.current)return;const t=getComputedStyle(this._pane.current);this.setState({resizing:!0,initialPosition:{pageX:e.pageX,pageY:e.pageY},initialWidth:parseFloat(t.width||"0"),initialHeight:parseFloat(t.height||"0")})}),Ke(this,"_handleMouseUp",e=>{this.state.resizing&&(e.preventDefault(),this.setState({resizing:!1,initialPosition:null,initialWidth:0,initialHeight:0}))}),Ke(this,"_handleMouseMove",e=>{const t=this.props,n=t.direction,r=t.inverted,a=this.state,i=a.resizing,s=a.initialPosition,o=a.initialWidth,l=a.initialHeight;if(i&&s){let t;if(e.preventDefault(),"horizontal"===n){const n=e.pageX-s.pageX;t=`width: ${o+(r?-n:n)}px !important;`}else{const n=s.pageY-e.pageY;t=`height: ${l+(r?-n:n)}px !important`}this._pane.current&&this._pane.current.setAttribute("style",t)}}),Ke(this,"_pane",r.createRef())}componentDidMount(){document.addEventListener("mouseup",this._handleMouseUp),document.addEventListener("mousemove",this._handleMouseMove)}componentWillUnmount(){document.removeEventListener("mouseup",this._handleMouseUp),document.removeEventListener("mousemove",this._handleMouseMove)}render(){const e=this.props,t=e.direction,n=e.inverted,a=e.className,s=e.children;return r.createElement("div",{ref:this._pane,className:`${Object(i.css)(Xe.container)} ${a||""}`},s,r.createElement("div",{className:Object(i.css)(Xe.handle,"horizontal"===t?Xe.horizontal:Xe.vertical,"horizontal"===t?n?Xe.horizontalInverted:Xe.horizontalNormal:n?Xe.verticalInverted:Xe.verticalNormal),onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp}))}}const Xe=i.StyleSheet.create({container:{position:"relative"},handle:{position:"absolute",zIndex:1},horizontal:{top:0,bottom:0,width:12,cursor:"col-resize"},vertical:{left:0,right:0,height:12,cursor:"row-resize"},horizontalNormal:{right:-12},horizontalInverted:{left:-12},verticalNormal:{top:-12},verticalInverted:{bottom:-12}});function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class et extends r.Component{constructor(){super(...arguments),Ge(this,"state",{isExpanded:!1}),Ge(this,"_handleClick",()=>this.setState(e=>({isExpanded:!e.isExpanded}))),Ge(this,"_renderValue",e=>r.createElement("span",{className:Object(i.css)("object"==typeof e&&null!==e?null:"string"==typeof e?tt.string:tt.value)},"object"==typeof e&&null!==e?Array.isArray(e)?e.length?"[…]":"[]":Object.keys(e).length?"{…}":"{}":"string"==typeof e?`"${e}"`:String(e)))}render(){const e=Object.keys(this.props.object);return r.createElement("div",{className:Object(i.css)(tt.container)},r.createElement("div",{onClick:this._handleClick},r.createElement("span",{className:Object(i.css)(tt.triangle)},this.state.isExpanded?"▼":"►"),this.props.label?r.createElement("span",{className:Object(i.css)(tt.label)},this.props.label,":"):null,Array.isArray(this.props.object)?r.createElement("span",{className:Object(i.css)(tt.preview)},"[",this.props.object.map((e,t,n)=>r.createElement("span",{key:t,className:Object(i.css)(tt.pair)},this._renderValue(e),t!==n.length-1?",":null)),"]"):r.createElement("span",{className:Object(i.css)(tt.preview)},"{",e.map((t,n)=>{const a=this.props.object[t];return r.createElement("span",{key:t,className:Object(i.css)(tt.pair)},r.createElement("span",{className:Object(i.css)(tt.key)},t,":"),this._renderValue(a),n!==e.length-1?",":null)}),"}")),r.createElement("div",{className:Object(i.css)(tt.expanded)},this.state.isExpanded?(Array.isArray(this.props.object)?[...e,"length"]:e).map(e=>{const t=this.props.object[e];return"object"==typeof t&&null!==t&&Object.keys(t).length?r.createElement(et,{key:e,label:e,object:t}):r.createElement("div",{key:e,className:Object(i.css)(tt.item)},r.createElement("span",{className:Object(i.css)(tt.label,tt.key)},e,":"),this._renderValue(t))}):null))}}const tt=i.StyleSheet.create({container:{cursor:"default"},pair:{margin:"0 4px",verticalAlign:"middle"},preview:{margin:"0 4px",verticalAlign:1},triangle:{display:"inline-block",verticalAlign:"middle",width:8,fontSize:9,opacity:.7},label:{marginLeft:6,opacity:.7},key:{marginRight:4,opacity:.7},value:{color:"#a27cca"},string:{color:"#87b121"},expanded:{marginLeft:14},item:{marginLeft:8}});function nt(e){const t=e.deviceLogs.reduce((e,t)=>{const n=e[e.length-1],r=t.payload.map(e=>{try{return JSON.parse(e)}catch(t){return e}});return n&&1===n.items.length&&n.items[0]===r[0]&&n.device===t.device.name&&n.method===t.method?n.times++:e.push({items:r,device:t.device.name,method:t.method,times:1}),e},[]);return r.createElement("div",null,t.map((e,t)=>{let n=e.items,a=e.device,s=e.method,o=e.times;return r.createElement("div",{className:Object(i.css)(rt.container),key:t},r.createElement("div",{className:Object(i.css)(rt.device)},a,":"),r.createElement("div",{className:Object(i.css)(rt.line),key:t},n.map((e,t)=>"object"==typeof e&&null!==e?r.createElement(et,{key:t,object:e}):r.createElement("div",{key:t,className:Object(i.css)(rt.item,"error"===s&&rt.error,"warn"===s&&rt.warning)},String(e))),o>1?r.createElement("div",{className:Object(i.css)(rt.counter)},o):null))}))}const rt=i.StyleSheet.create({container:{display:"flex",flexDirection:"row",flexWrap:"nowrap",fontFamily:"var(--font-monospace)",fontSize:13,minHeight:16,margin:"4px 0"},line:{display:"flex",flexDirection:"row",flexWrap:"wrap"},item:{marginRight:8},error:{color:S.a.error},warning:{color:S.a.warning},device:{opacity:.5,marginRight:8},counter:{position:"relative",bottom:-1,height:16,width:16,lineHeight:"16px",fontSize:12,textAlign:"center",borderRadius:"50%",backgroundColor:S.a.primary,color:"white",opacity:.5}});function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class it extends r.Component{constructor(){super(...arguments),at(this,"_isScrolled",!1),at(this,"_panel",r.createRef())}getSnapshotBeforeUpdate(e){this.props.deviceLogs!==e.deviceLogs&&this._panel.current&&(this._isScrolled=this._panel.current.scrollHeight-this._panel.current.clientHeight!==this._panel.current.scrollTop)}componentDidUpdate(e){this.props.deviceLogs!==e.deviceLogs&&this._panel.current&&!this._isScrolled&&(this._panel.current.scrollTop=this._panel.current.scrollHeight-this._panel.current.clientHeight)}render(){const e=this.props,t=e.annotations,n=e.deviceLogs,a=e.onShowErrorPanel,s=e.onShowDeviceLogs,o=e.onTogglePanels,l=e.onClearDeviceLogs,c=e.panelType;return r.createElement(Je,{direction:"vertical",className:Object(i.css)(st.container)},r.createElement("div",{className:Object(i.css)(st.panels)},r.createElement("div",{className:Object(i.css)(st.header)},r.createElement("button",{onClick:a,className:Object(i.css)(st.tab,"errors"!==c&&st.inactive)},"Errors"),r.createElement("button",{onClick:s,className:Object(i.css)(st.tab,"logs"!==c&&st.inactive)},"Logs"),r.createElement("div",{className:Object(i.css)(st.buttons)},"logs"===c?r.createElement("button",{onClick:l,className:Object(i.css)(st.button,st.clear)}):null,r.createElement("button",{onClick:o,className:Object(i.css)(st.button,st.close)}))),r.createElement("div",{ref:this._panel,className:Object(i.css)(st.panel)},"errors"===c?1===t.length?r.createElement("pre",{className:Object(i.css)(st.line,st.error)},t[0].source,": (",t[0].startLineNumber,":",t[0].startColumn,") ",t[0].message):t.map((e,t)=>r.createElement("div",{key:t,className:Object(i.css)(st.line,st.error)},e.source,": (",e.startLineNumber,":",e.startColumn,")"," ",e.message.split("\n")[0])):null,"logs"===c?r.createElement(nt,{deviceLogs:n}):null)))}}const st=i.StyleSheet.create({container:{height:"14em"},header:{display:"flex",flexDirection:"row",alignItems:"center",paddingTop:".75em"},tab:{display:"inline-block",appearance:"none",background:"none",border:"none",margin:0,padding:".35em 1.5em",fontSize:".9em",textTransform:"uppercase",outline:"none",opacity:1},inactive:{opacity:.5},buttons:{display:"flex",flex:1,flexDirection:"row",justifyContent:"flex-end",margin:"0 1em"},button:{height:24,width:24,border:0,outline:0,margin:"0 .5em",appearance:"none",backgroundColor:"transparent",backgroundSize:16,backgroundRepeat:"no-repeat",backgroundPosition:"center"},close:{backgroundImage:`url(${n(853)})`},clear:{backgroundImage:`url(${n(854)})`},panels:{borderColor:S.a.border,borderWidth:"1px 0 0 0",borderStyle:"solid",height:"100%",minHeight:0},panel:{display:"flex",flexDirection:"column",minHeight:0,padding:".5em 1.5em .75em 1.5em",overflow:"auto",height:"calc(100% - 2.5em)"},error:{color:S.a.error},warning:{color:S.a.warning},line:{border:0,margin:0,padding:"4px 0",backgroundColor:"transparent",fontFamily:"var(--font-monospace)",color:"inherit"}});var ot=n(626),lt=n(214),ct=(n(248),n(111));function pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function dt(e){let t=e.sdkVersion,n=e.onChange;const a=pt(Object(Ze.a)(),1)[0];return r.createElement("div",{className:Object(i.css)(ht.container)},r.createElement("span",{className:Object(i.css)(ht.label)},"Expo"),r.createElement("span",{className:Object(i.css)(ht.switcher)},r.createElement("select",{value:t,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(e=>n(e.target.value)),className:Object(i.css)(ht.select,"dark"===a.theme?ht.dark:ht.light)},Object.keys(ct.c).map(e=>r.createElement("option",{key:e,value:e},"v",e)))))}const ht=i.StyleSheet.create({container:{display:"flex",alignItems:"center",whiteSpace:"nowrap",marginRight:".5em"},switcher:{position:"relative",display:"inline-block",":after":{content:'"▼"',position:"absolute",fontSize:"0.6em",right:"2em",top:"1em",pointerEvents:"none"}},label:{flex:1,margin:"0 .5em","@media (max-width: 480px)":{display:"none"}},select:{appearance:"none",backgroundColor:"transparent",padding:"0 2em 0 1em",borderRadius:12,outline:0},light:{border:`1px solid ${S.a.border}`},dark:{border:"1px solid rgba(255, 255, 255, .2)"}});function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function mt(e){let t=e.active,n=e.icon,a=e.children,s=e.onClick;const o=ut(Object(Ze.a)(),1)[0];return r.createElement("button",{onClick:s,style:n?{backgroundImage:`url(${n})`}:void 0,className:Object(i.css)(gt.button,t?gt.buttonActive:gt.buttonInactive,"dark"===o.theme?gt.buttonDark:gt.buttonLight)},a)}const gt=i.StyleSheet.create({button:{position:"relative",border:0,outline:0,margin:0,height:30,padding:"0 16px",appearance:"none",backgroundSize:16,backgroundRepeat:"no-repeat",backgroundPosition:"center right 8px","@media (min-width: 720px)":{padding:"5px 32px 5px 8px"}},buttonLabel:{display:"none","@media (min-width: 720px)":{display:"inline"}},buttonActive:{backgroundColor:"rgba(0, 0, 0, 0.1)"},buttonInactive:{backgroundColor:"transparent"},buttonLight:{":active":{opacity:.5}},buttonDark:{":active":{opacity:.3}}});function bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ft(e){let t=e.icon,n=e.label,a=e.content;const s=bt(r.useState(!1),2),o=s[0],l=s[1],c=r.useRef(null);return r.useEffect(()=>{const e=e=>{e.target===c.current||c.current&&c.current.contains(e.target)||l(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]),r.createElement("div",{ref:c,className:Object(i.css)(vt.panelContainer)},r.createElement(mt,{icon:t,active:o,onClick:()=>l(e=>!e)},n),o?r.createElement("div",{className:Object(i.css)(vt.pane)},a):null)}const vt=i.StyleSheet.create({panelContainer:{position:"relative",display:"flex",alignItems:"center"},pane:{display:"flex",alignItems:"stretch",justifyContent:"flex-end",flexDirection:"column",position:"absolute",right:0,bottom:32,minWidth:160,padding:"8px 0",borderWidth:1,borderRadius:3,borderStyle:"solid",backgroundColor:Object(N.a)("content"),borderColor:Object(N.a)("editor-border"),boxShadow:"0px 2px 6px rgba(0, 0, 0, 0.16)",color:Object(N.a)("text"),zIndex:-1}});n(855);function yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}const Et={save:{description:"Save changes",combo:[h.a.Meta,h.a.S]},update:{type:"update",description:"Update code on device",combo:[h.a.Meta,h.a.U]},tree:{description:"Toggle sidebar",combo:[h.a.Meta,h.a.Backslash]},panels:{description:"Toggle error and log panels",combo:[h.a.Ctrl,h.a.Tilde]},format:{description:"Format code with prettier",combo:[h.a.Ctrl,h.a.Alt,h.a.F]},shortcuts:{description:"Show keyboard shortcuts",combo:[h.a.Meta,h.a.Alt,h.a.Shift]}};var xt=Object(k.a)(class extends r.PureComponent{render(){return r.createElement("table",{className:Object(i.css)(wt.shortcutList)},r.createElement("tbody",null,Object.entries(Et).map(e=>{let t=yt(e,2),n=t[0],a=t[1];return r.createElement("tr",{key:n},r.createElement("td",{className:Object(i.css)(wt.shortcutCell,wt.shortcutLabelCell)},r.createElement("kbd",{className:Object(i.css)(wt.shortcutLabel)},r.createElement(Ne.a,{combo:a.combo}))),r.createElement("td",{className:Object(i.css)(wt.shortcutCell,wt.shortcutDescriptionCell)},a.description))})))}});const wt=i.StyleSheet.create({shortcutList:{fontSize:"1.2em",tableLayout:"fixed"},shortcutCell:{padding:"6px 8px"},shortcutLabelCell:{textAlign:"right"},shortcutDescriptionCell:{textAlign:"left"},shortcutLabel:{color:"inherit",fontFamily:"inherit",fontSize:"inherit",backgroundColor:"transparent",boxShadow:"none",padding:0,display:"inline-block"}});function Ct(e){const t=e.loadingMessage,a=e.annotations,s=e.connectedDevices,o=e.fileTreeShown,l=e.devicePreviewShown,c=e.panelsShown,p=e.sendCodeOnChangeEnabled,d=e.editorMode,h=e.sdkVersion,u=e.onSendCode,m=e.onReloadSnack,g=e.onToggleTheme,b=e.onTogglePanels,f=e.onToggleFileTree,v=e.onToggleDevicePreview,y=e.onToggleSendCode,E=e.onToggleVimMode,x=e.onChangeSDKVersion,C=e.onShowShortcuts,S=e.onPrettifyCode,k=e.theme,_=a.some(e=>e.severity>3),j=Boolean(t),L=s.length>1?"apps":"app",P=s.length>1?"devices":"device";return r.createElement(lt.a,{type:_&&!j?"error":j?"loading":null},r.createElement("div",{className:Object(i.css)(St.left)},j?r.createElement(ot.a,{className:Object(i.css)(St.loadingText)},t):r.createElement("button",{onClick:b,className:Object(i.css)(St.statusText,a.length?_?St.errorTextFatal:St.errorText:St.successText)},a.length?`${a[0].source}: ${a[0].message.split("\n")[0]}`+(a.length>1?` (+${a.length-1} more)`:""):"No errors")),r.createElement(mt,{icon:n(857),onClick:S},r.createElement("span",{className:Object(i.css)(St.buttonLabel)},"Prettier")),r.createElement(ft,{icon:n(858),label:r.createElement("span",{className:Object(i.css)(St.buttonLabel)},"Editor"),content:r.createElement(r.Fragment,null,r.createElement("div",{className:Object(i.css)(St.buttonItem,St.buttonItemEditorPane)},r.createElement(F,{title:"Show keyboard shortcuts",label:"Shortcuts",onClick:C},r.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 18 18"},r.createElement("path",{d:"M3,0 L15,0 C16.6568542,-3.04359188e-16 18,1.34314575 18,3 L18,15 C18,16.6568542 16.6568542,18 15,18 L3,18 C1.34314575,18 -2.46162913e-15,16.6568542 -2.66453526e-15,15 L-1.77635684e-15,3 C-1.97926296e-15,1.34314575 1.34314575,-5.83819232e-16 3,-8.8817842e-16 Z M7.41949521,8.19170984 L7.41949521,5 L6,5 L6,13 L7.41949521,13 L7.41949521,9.68911917 L7.71192341,9.44041451 L11.0992167,13 L13,13 L8.7232376,8.62176166 L12.975631,5 L11.0809399,5 L7.41949521,8.19170984 Z"}))),r.createElement(Ne.a,{combo:Et.shortcuts.combo})),r.createElement(w.a,{checked:o,onChange:f,label:"Files"}),r.createElement(w.a,{checked:c,onChange:b,label:"Panel"}),r.createElement(w.a,{checked:"light"!==k,onChange:g,label:"Dark theme"}),E?r.createElement(w.a,{checked:"vim"===d,onChange:E,label:"Vim mode"}):null)}),r.createElement(dt,{sdkVersion:h,onChange:x}),r.createElement(ft,{icon:"none",label:r.createElement(r.Fragment,null,r.createElement("span",{className:Object(i.css)(St.buttonLabel)},"Devices"),r.createElement("span",{className:Object(i.css)(St.devicesCount)},s.length)),content:r.createElement("div",{className:Object(i.css)(St.devicePane)},s.length?r.createElement(r.Fragment,null,r.createElement("div",{className:Object(i.css)(St.devicePaneItem)},r.createElement(w.a,{checked:p,onChange:y,label:"Update as you type"})),r.createElement("div",{className:Object(i.css)(St.buttonItem,St.buttonItemDevicePane)},r.createElement(F,{title:`Update changes on connected ${P}`,label:"Update now",onClick:u},r.createElement("svg",{width:"14px",height:"17px",viewBox:"0 0 14 17"},r.createElement("path",{transform:"translate(-5.000000, -3.000000)",d:"M9,16 L15,16 L15,10 L19,10 L12,3 L5,10 L9,10 L9,16 Z M5,18 L19,18 L19,20 L5,20 L5,18 Z"}))),r.createElement(Ne.a,{combo:Et.update.combo})),O.a.isAvailable("RELOAD_SNACK",h)?r.createElement("div",{className:Object(i.css)(St.buttonItem,St.buttonItemDevicePane)},r.createElement(F,{title:`Reload ${L} on connected ${P}`,label:`Reload ${L}`,onClick:m},r.createElement("svg",{width:"16px",height:"20px",viewBox:"0 0 16 20"},r.createElement("path",{d:"M8,3.5 L8,0 L3,5 L8,10 L8,5.5 C11.314,5.5 14,8.186 14,11.5 C14,14.814 11.314,17.5 8,17.5 C4.686,17.5 2,14.814 2,11.5 L0,11.5 C0,15.918 3.582,19.5 8,19.5 C12.418,19.5 16,15.918 16,11.5 C16,7.082 12.418,3.5 8,3.5"})))):null,r.createElement("h4",{className:Object(i.css)(St.title)},"Connected devices"),s.map(e=>r.createElement("div",{key:e.id,className:Object(i.css)(St.deviceLabel)},"android"===e.platform?r.createElement("svg",{className:Object(i.css)(St.deviceIcon),width:"16px",height:"20px",viewBox:"0 0 16 20"},r.createElement("path",{transform:"translate(-16.000000, -146.000000)",d:"M19.2,160.325197 C19.2,160.762881 19.56,161.120986 20,161.120986 L20.8,161.120986 L20.8,163.906247 C20.8,164.566752 21.336,165.099931 22,165.099931 C22.664,165.099931 23.2,164.566752 23.2,163.906247 L23.2,161.120986 L24.8,161.120986 L24.8,163.906247 C24.8,164.566752 25.336,165.099931 26,165.099931 C26.664,165.099931 27.2,164.566752 27.2,163.906247 L27.2,161.120986 L28,161.120986 C28.44,161.120986 28.8,160.762881 28.8,160.325197 L28.8,152.367307 L19.2,152.367307 L19.2,160.325197 L19.2,160.325197 Z M17.2,152.367307 C16.536,152.367307 16,152.900485 16,153.56099 L16,159.131513 C16,159.792018 16.536,160.325197 17.2,160.325197 C17.864,160.325197 18.4,159.792018 18.4,159.131513 L18.4,153.56099 C18.4,152.900485 17.864,152.367307 17.2,152.367307 L17.2,152.367307 Z M30.8,152.367307 C30.136,152.367307 29.6,152.900485 29.6,153.56099 L29.6,159.131513 C29.6,159.792018 30.136,160.325197 30.8,160.325197 C31.464,160.325197 32,159.792018 32,159.131513 L32,153.56099 C32,152.900485 31.464,152.367307 30.8,152.367307 L30.8,152.367307 Z M26.824,147.719899 L27.868,146.681394 C28.024,146.526215 28.024,146.275542 27.868,146.120363 C27.712,145.965184 27.46,145.965184 27.304,146.120363 L26.12,147.294152 C25.48,146.979815 24.764,146.796784 24,146.796784 C23.232,146.796784 22.512,146.979815 21.868,147.298131 L20.68,146.116384 C20.524,145.961205 20.272,145.961205 20.116,146.116384 C19.96,146.271563 19.96,146.522237 20.116,146.677415 L21.164,147.719899 C19.976,148.591288 19.2,149.991877 19.2,151.571518 L28.8,151.571518 C28.8,149.987898 28.02,148.587309 26.824,147.719899 L26.824,147.719899 Z M26,149.978945 C26.2209139,149.978945 26.4,149.800802 26.4,149.581051 C26.4,149.361299 26.2209139,149.183156 26,149.183156 C25.7790861,149.183156 25.6,149.361299 25.6,149.581051 C25.6,149.800802 25.7790861,149.978945 26,149.978945 Z M22,149.978945 C22.2209139,149.978945 22.4,149.800802 22.4,149.581051 C22.4,149.361299 22.2209139,149.183156 22,149.183156 C21.7790861,149.183156 21.6,149.361299 21.6,149.581051 C21.6,149.800802 21.7790861,149.978945 22,149.978945 Z"})):"ios"===e.platform?r.createElement("svg",{className:Object(i.css)(St.deviceIcon),width:"16px",height:"16px",viewBox:"0 0 16 16"},r.createElement("path",{d:"M5,0 L11,0 C13.7614237,-5.07265313e-16 16,2.23857625 16,5 L16,11 C16,13.7614237 13.7614237,16 11,16 L5,16 C2.23857625,16 3.38176876e-16,13.7614237 0,11 L0,5 C-3.38176876e-16,2.23857625 2.23857625,5.07265313e-16 5,0 Z M2.79296875,11 L3.5,11 L3.5,6.890625 L2.79296875,6.890625 L2.79296875,11 Z M2.64453125,5.625 C2.64453125,5.90625 2.859375,6.11328125 3.140625,6.11328125 C3.4375,6.11328125 3.65234375,5.90625 3.65234375,5.625 C3.65234375,5.33984375 3.4375,5.1328125 3.140625,5.1328125 C2.859375,5.1328125 2.64453125,5.33984375 2.64453125,5.625 Z M9.20385423,8.71875 L9.20385423,7.94921875 C9.20385423,6.4375 8.36401048,5.55859375 7.05541673,5.55859375 C5.74682298,5.55859375 4.90697923,6.43359375 4.90697923,7.94921875 L4.90697923,8.71875 C4.90697923,10.2304688 5.74682298,11.109375 7.05541673,11.109375 C8.36401048,11.109375 9.20385423,10.2304688 9.20385423,8.71875 Z M10.1616147,9.64453125 C10.2358335,10.5039062 10.962396,11.109375 12.0913022,11.109375 C13.321771,11.109375 14.0913022,10.4726562 14.0913022,9.50390625 C14.0913022,8.7265625 13.634271,8.2890625 12.7006772,8.046875 L11.790521,7.80859375 C11.3022397,7.6875 11.040521,7.4296875 11.040521,7.0546875 C11.040521,6.53515625 11.4897397,6.1796875 12.1616147,6.1796875 C12.7827085,6.1796875 13.2045835,6.4765625 13.3022397,6.9453125 L14.024896,6.9453125 C13.9428647,6.1328125 13.228021,5.54296875 12.1733335,5.54296875 C11.087396,5.54296875 10.3100522,6.18359375 10.3100522,7.08984375 C10.3100522,7.8046875 10.7709897,8.29296875 11.571771,8.5 L12.4975522,8.73828125 C13.0952085,8.890625 13.3647397,9.13671875 13.3647397,9.5625 C13.3647397,10.1171875 12.9077085,10.4726562 12.165521,10.4726562 C11.4702085,10.4726562 10.9897397,10.1484375 10.8881772,9.64453125 L10.1616147,9.64453125 Z M8.48119798,7.94921875 L8.48119798,8.72265625 C8.48119798,9.89453125 7.86401048,10.4648438 7.05541673,10.4648438 C6.24291673,10.4648438 5.62963548,9.89453125 5.62963548,8.72265625 L5.62963548,7.94921875 C5.62963548,6.7734375 6.24291673,6.203125 7.05541673,6.203125 C7.86401048,6.203125 8.48119798,6.7734375 8.48119798,7.94921875 Z"})):r.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 18 18",className:Object(i.css)(St.deviceIcon),style:{stroke:"currentColor"}},r.createElement("g",{strokeWidth:"1",fill:"none"},r.createElement("circle",{cx:"9",cy:"9",r:"8"}),r.createElement("rect",{x:"2",y:"11",width:"14",height:"0.5"}),r.createElement("rect",{x:"2",y:"6",width:"14",height:"0.5"}),r.createElement("ellipse",{cx:"9",cy:"9",rx:"3",ry:"8"}))),e.name))):r.createElement("div",{className:Object(i.css)(St.noDevicesMessage)},"No devices connected"))}),r.createElement("div",{className:Object(i.css)(St.devicePreviewSwitch)},r.createElement(w.a,{checked:l,onChange:v,label:"Preview"})))}const St=i.StyleSheet.create({left:{display:"flex",alignItems:"stretch",flex:1,minWidth:0,overflow:"hidden"},loadingText:{textOverflow:"ellipsis",whiteSpace:"nowrap",padding:".5em"},statusText:{border:0,outline:0,margin:0,appearance:"none",backgroundColor:"transparent",backgroundSize:16,backgroundRepeat:"no-repeat",backgroundPosition:"1em center",display:"inline-block",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:".25em .5em .25em 3em",minWidth:200,width:"100%",textAlign:"left"},successText:{backgroundImage:`url(${n(859)})`},errorText:{backgroundImage:`url(${n(860)})`,color:S.a.error},errorTextFatal:{backgroundImage:`url(${n(861)})`},devicesCount:{position:"absolute",top:4,right:6,height:20,minWidth:20,borderRadius:"50%",backgroundColor:Object(N.a)("text"),color:Object(N.a)("background"),opacity:.5},devicePane:{padding:"0 16px"},devicePaneItem:{margin:"0 -16px"},deviceLabel:{display:"flex",alignItems:"center",whiteSpace:"nowrap",padding:"8px 0"},deviceIcon:{height:16,width:16,marginRight:8,fill:"currentColor"},noDevicesMessage:{whiteSpace:"nowrap",margin:8},buttonLabel:{display:"none","@media (min-width: 720px)":{display:"inline"}},buttonItem:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},buttonItemEditorPane:{margin:"-8px 12px 0 12px"},buttonItemDevicePane:{margin:-4},title:{margin:"16px 0 8px"},devicePreviewSwitch:{display:"none",[`@media ${D.VISIBILITY_MEDIA_QUERY}`]:{display:"block"}}});var kt=n(51);function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _t extends r.PureComponent{constructor(){super(...arguments),Ot(this,"state",{layout:null}),Ot(this,"_handleImageLoad",e=>{const t=e.target;this.setState({layout:{height:t.naturalHeight,width:t.naturalWidth}})})}render(){const e=this.props.entry.item.path.includes(".")?this.props.entry.item.path.split(".").pop():null;return r.createElement("div",{className:Object(i.css)(jt.container)},r.createElement("div",{className:Object(i.css)(jt.inner)},Object(kt.f)(this.props.entry.item.path)?r.createElement("img",{onLoad:this._handleImageLoad,className:Object(i.css)(jt.preview),src:this.props.entry.item.uri}):r.createElement("svg",{width:"120px",height:"168px",viewBox:"0 0 120 168"},r.createElement("mask",{id:"mask-2",fill:"white"},r.createElement("rect",{x:"0",y:"0",width:"119.25",height:"168"})),r.createElement("g",{mask:"url(#mask-2)",fillRule:"nonzero",fill:"#CFCFCF"},r.createElement("path",{d:"M2.25,0 L117.75,0 L117.75,0 C118.992641,-2.28269391e-16 120,1.00735931 120,2.25 L120,165.75 L120,165.75 C120,166.992641 118.992641,168 117.75,168 L2.25,168 L2.25,168 C1.00735931,168 1.52179594e-16,166.992641 0,165.75 L0,2.25 L0,2.25 C-1.52179594e-16,1.00735931 1.00735931,2.28269391e-16 2.25,0 Z M75,0 L120,45 L120,0 L75,0 Z"}),r.createElement("path",{d:"M77.25,-3 L120.75,-3 C121.992641,-3 123,-1.99264069 123,-0.75 L123,42.75 C123,43.9926407 121.992641,45 120.75,45 L77.25,45 C76.0073593,45 75,43.9926407 75,42.75 L75,-0.75 L75,-0.75 C75,-1.99264069 76.0073593,-3 77.25,-3 L77.25,-3 Z M75,0 L120,45 L120,0 L75,0 Z",fillOpacity:"0.2",fill:"#000000"}),r.createElement("text",{className:Object(i.css)(jt.ext)},r.createElement("tspan",{x:"56",y:"100"},e?`.${e}`:"")))),r.createElement("h4",{className:Object(i.css)(jt.name)},this.props.entry.item.path.split("/").pop()),r.createElement("div",{className:Object(i.css)(jt.layout)},this.state.layout?`${this.state.layout.height} x ${this.state.layout.width}`:" ")))}}const jt=i.StyleSheet.create({container:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},inner:{maxHeight:"100%",maxWidth:"100%",textAlign:"center"},name:{marginTop:"2em",fontWeight:500},layout:{opacity:.5},preview:{maxHeight:"100%",maxWidth:"100%",height:"auto",width:"auto"},ext:{fill:"currentColor",fontFamily:"var(--font-monospace)",textAnchor:"middle",fontSize:20,opacity:.8}});class Lt extends r.PureComponent{render(){return r.createElement("div",{className:Object(i.css)(Pt.container)},r.createElement("h4",{className:Object(i.css)(Pt.text)},"Select a file to view and edit"))}}const Pt=i.StyleSheet.create({container:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},text:{fontSize:"1.5em",fontWeight:500,opacity:.5}});var Dt=n(516),Mt=n.n(Dt),It=n(517),Nt=n(657),Rt=n(215);function Tt(e){let t=e.title,n=e.expanded,a=e.buttons,s=e.children,o=e.onClick,l=e.className;return r.createElement("div",{className:`${l||""} ${Object(i.css)(Ft.container)}`},r.createElement("div",{className:Object(i.css)(Ft.header)},r.createElement("div",{className:Object(i.css)(Ft.left),onClick:o,"data-test-id":`file-list-pane-${t.toLowerCase().replace(/[^a-z]/g,"-")}`},r.createElement("svg",{className:Object(i.css)(Ft.collapse,n?Ft.collapseExpanded:Ft.collapseCollapsed),width:"12px",height:"12px",viewBox:"0 0 12 12"},r.createElement("g",{stroke:"none",strokeWidth:"2",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},r.createElement("polyline",{stroke:"currentColor",transform:"translate(6.000000, 6.000000) scale(-1, 1) rotate(180.000000) translate(-6.000000, -6.000000) ",points:"2 4 6 8 10 4"}))),r.createElement("h4",{className:Object(i.css)(Ft.label)},t)),r.createElement("div",{className:Object(i.css)(Ft.right)},a)),n?s:null)}const Ft=i.StyleSheet.create({container:{display:"flex",flexDirection:"column",margin:"8px 0"},header:{display:"flex",flexDirection:"row",alignItems:"center",padding:"0 4px"},label:{fontSize:"1em",fontWeight:500,lineHeight:1,margin:0},collapse:{margin:"1px 6px 1px 2px",opacity:.7},collapseCollapsed:{transform:"rotate(180deg)"},collapseExpanded:{transform:"rotate(0deg)"},left:{flex:1,display:"flex",flexDirection:"row",padding:"8px 4px",cursor:"pointer"},right:{display:"flex",flexDirection:"row",alignItems:"center"}});function At(e){let t,n=e.entry;return t=Object(kt.e)(n.item.path)?r.createElement("g",null,r.createElement("path",{d:"M7.46487122,14 C7.80521143,13.4116533 8,12.7285743 8,12 C8,9.790861 6.209139,8 4,8 C3.65470043,8 3.31961992,8.043753 3,8.12601749 L3,2 L13,2 L13,14 L7.46487122,14 Z M9,2 L13,6 L13,2 L9,2 Z M9,6 L9,2 L8,2 L8,7 L13,7 L13,6 L9,6 Z"}),r.createElement("circle",{cx:"4",cy:"12",r:"3"})):Object(kt.j)(n.item.path)?r.createElement("path",{d:"M2,5.09257608 L7.47329684,8.31213064 L7.47329684,14.7092088 L2,11.5325867 L2,5.09257608 Z M2.49245524,4.22207437 L7.97432798,1 L13.506361,4.2238509 L7.92838937,7.41965108 L2.49245524,4.22207437 Z M14,5.09352708 L14,11.5325867 L8.47329684,14.7128733 L8.47329684,8.25995389 L14,5.09352708 Z"}):"folder"===n.item.type?n.state.isExpanded?r.createElement("g",null,r.createElement("path",{d:"M7.5,5 L2,5 L2,13 L7.75,13 L14,13 L14,4 L15,4 L15,14 L1,14 L1,4 L6.5,4 L5.5,5 L7.5,5 L7.5,4.5 L7.5,5 Z M14,4 L14,3 L7.5,3 L7.5,3.5 L7.5,3 L7,3.5 L7,2 L15,2 L15,4 L14,4 Z M6.5,4 L5,4 L7,2 L7,3.5 L6.5,4 Z"}),r.createElement("polygon",{points:"0 7 13 7 14 14 1 14"})):r.createElement("path",{d:"M7.25,4 L7.5,4 L7.5,3 L7,3.5 L7,2 L15,2 L15,4 L7.25,4 Z M6.75,4 L5,4 L7,2 L7,3.5 L6.5,4 L6.75,4 Z M1,4 L15,4 L15,14 L1,14 L1,4 Z M7.5,3 L7.5,4 L14,4 L14,3 L7.5,3 Z"}):Object(kt.f)(n.item.path)?r.createElement("g",null,r.createElement("circle",{cx:"5",cy:"5",r:"1"}),r.createElement("polygon",{points:"5.71428571 8.41176471 8 11.2352941 10.8571429 7 14 13 2 13"}),r.createElement("path",{d:"M3,3 L3,13 L13,13 L13,3 L3,3 Z M3,2 L13,2 C13.5522847,2 14,2.44771525 14,3 L14,13 C14,13.5522847 13.5522847,14 13,14 L3,14 C2.44771525,14 2,13.5522847 2,13 L2,3 C2,2.44771525 2.44771525,2 3,2 Z"})):r.createElement("path",{d:"M3,2 L13,2 L13,14 L3,14 L3,2 Z M9,2 L13,6 L13,2 L9,2 Z M9,6 L9,2 L8,2 L8,7 L13,7 L13,6 L9,6 Z"}),r.createElement("svg",{className:Object(i.css)(zt.icon),viewBox:"0 0 16 16"},t)}const zt=i.StyleSheet.create({icon:{height:16,width:16,fill:"currentColor",verticalAlign:"middle",opacity:.7}});function $t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wt=Object(k.a)(class extends r.PureComponent{constructor(){super(...arguments),$t(this,"state",{isHovered:!1,menu:null}),$t(this,"_hideContextMenu",()=>this.setState({menu:null})),$t(this,"_showContextMenu",e=>{this.setState({menu:{pageX:e.pageX,pageY:e.pageY}})}),$t(this,"_handleDocumentClick",e=>{this.state.menu&&this._menu.current&&e.target!==this._menu.current&&!this._menu.current.contains(e.target)&&this._hideContextMenu()}),$t(this,"_handleDocumentContextMenu",e=>{e.target===this._item.current||this._item.current&&this._item.current.contains(e.target)?(e.preventDefault(),this._showContextMenu(e)):this.state.menu&&this._hideContextMenu()}),$t(this,"_handleMouseEnter",()=>this.setState({isHovered:!0})),$t(this,"_handleMouseLeave",()=>this.setState({isHovered:!1})),$t(this,"_menu",r.createRef()),$t(this,"_item",r.createRef())}componentDidMount(){document.addEventListener("click",this._handleDocumentClick),document.addEventListener("contextmenu",this._handleDocumentContextMenu)}componentWillUnmount(){document.removeEventListener("click",this._handleDocumentClick),document.removeEventListener("contextmenu",this._handleDocumentContextMenu)}render(){const e=this.props,t=e.entry,n=e.theme,a=t.item.path.split("/").pop();return r.createElement("li",{ref:this._item,tabIndex:-1,className:Object(i.css)(Ut.item,t.state.isFocused&&("dark"===n?Ut.focusedDark:Ut.focusedLight)),onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave},r.createElement("button",{onClick:this.props.onClose,className:Object(i.css)(Ut.close,this.state.isHovered?Ut.closeFocused:Ut.closeBlurred)},"×"),r.createElement("div",{onClick:this.props.onOpen},r.createElement(At,{entry:t}),r.createElement("span",{className:Object(i.css)(Ut.label)},a)),r.createElement(ze,{ref:this._menu,visible:Boolean(this.state.menu),position:this.state.menu,actions:[{label:"Close",handler:this.props.onClose},{label:"Close Others",handler:this.props.onCloseOthers},{label:"Close All",handler:this.props.onCloseAll}],onHide:this._hideContextMenu}))}});const Ut=i.StyleSheet.create({item:{paddingLeft:24,cursor:"pointer",outline:0,whiteSpace:"nowrap"},label:{display:"inline-block",verticalAlign:-1,margin:6,userSelect:"none",whiteSpace:"nowrap"},focusedLight:{backgroundColor:"rgba(0, 0, 0, .04)"},focusedDark:{backgroundColor:"rgba(255, 255, 255, .04)"},close:{padding:"7px 8px",fontSize:"18px",border:"none",appearance:"none",position:"absolute",left:0,margin:"-3px 0 0 0",background:"none",outline:0},closeFocused:{opacity:1},closeBlurred:{opacity:0}});n(258),n(259);var Bt=n(225),Vt=n.n(Bt);function Ht(e,t){let n=e.dataTransfer;return!!n&&(n.types instanceof DOMStringList?n.types.contains(t):n.types.indexOf(t)>-1)}function Zt(){return(Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yt=Object(k.a)(class extends r.PureComponent{constructor(){super(...arguments),Qt(this,"_getParentPath",e=>e.includes("/")?e.replace(/\/[^\/]+$/,""):null),Qt(this,"_isDirectChild",e=>{if(this.props.entry&&this.props.entry.item.path===e)return!0;const t=this._getParentPath(e);return this.props.entry&&t?this.props.entry.item.path===t:null==this.props.entry&&null==t}),Qt(this,"_handleDragLeave",e=>{e.currentTarget.style.backgroundColor=null,clearTimeout(this._dragTimer),this._dragTimer=null}),Qt(this,"_handleDragOver",e=>{const t=Jt;!Ht(e,"application/json")||this.props.entry&&"folder"!==this.props.entry.item.type||!t||"file"!==t.item.type&&"folder"!==t.item.type||(e.stopPropagation(),this._isDirectChild(t.item.path)||(e.preventDefault(),e.currentTarget.style.backgroundColor="dark"===this.props.theme?"rgba(255, 255, 255, .1)":"rgba(0, 0, 0, .1)",this._dragTimer||(this._dragTimer=setTimeout(()=>{this.props.entry&&!this.props.entry.state.isExpanded&&this.props.onExpand&&this.props.onExpand(this.props.entry.item.path)},500))))}),Qt(this,"_dragTimer",void 0),Qt(this,"_handleDrop",e=>{if(e.currentTarget.style.backgroundColor=null,Ht(e,"application/json")&&(!this.props.entry||"folder"===this.props.entry.item.type)){e.preventDefault(),e.stopPropagation();try{const t=e.dataTransfer.getData("application/json"),n=JSON.parse(t);if("file"!==n.item.type&&"folder"!==n.item.type||this._isDirectChild(n.item.path))return;const r=n.item.path.split("/").pop();this.props.onRename(n.item.path,Object(kt.c)(this.props.rest.map(e=>e.item.path),this.props.entry?this.props.entry.item.path+"/"+r:r))}catch(e){}}}),Qt(this,"_container",r.createRef())}componentDidMount(){const e=this._container.current;e&&(e.addEventListener("dragover",this._handleDragOver),e.addEventListener("dragleave",this._handleDragLeave),e.addEventListener("dragend",this._handleDragLeave),e.addEventListener("drop",this._handleDrop))}componentWillUnmount(){const e=this._container.current;e&&(e.removeEventListener("dragover",this._handleDragOver),e.removeEventListener("dragleave",this._handleDragLeave),e.removeEventListener("dragend",this._handleDragLeave),e.removeEventListener("drop",this._handleDrop))}render(){const e=this.props,t=(e.entry,e.rest,e.onExpand,e.onRename,e.theme,qt(e,["entry","rest","onExpand","onRename","theme"]));return r.createElement("div",Zt({},t,{ref:this._container}))}});function Kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let Jt;class Xt extends r.Component{constructor(){super(...arguments),Kt(this,"state",{menu:null,isHovered:!1}),Kt(this,"_handleClick",e=>{"INPUT"!==e.target.tagName&&this.props.onOpen(this.props.entry.item.path)}),Kt(this,"_handleMouseEnter",()=>this.setState({isHovered:!0})),Kt(this,"_handleMouseLeave",()=>this.setState({isHovered:!1})),Kt(this,"_handleMouseDown",()=>this._click=!0),Kt(this,"_handleFocus",()=>{this._click?this._click=!1:this.props.onFocus(this.props.entry.item.path)}),Kt(this,"_handleKeyDown",e=>{if("INPUT"===e.target.tagName)return;const t=this.props.actions.filter(t=>!(!t||!t.combo)&&Object(h.c)(e,t.combo));t.length&&(e.preventDefault(),t.forEach(e=>e&&e.handler()))}),Kt(this,"_hideContextMenu",()=>this.setState({menu:null})),Kt(this,"_showContextMenu",e=>{this.setState({menu:{pageX:e.pageX,pageY:e.pageY}})}),Kt(this,"_handleDocumentClick",e=>{this.state.menu?this._menu.current&&e.target!==this._menu.current&&!this._menu.current.contains(e.target)&&this._hideContextMenu():this._more.current&&(e.target===this._more.current||this._more.current.contains(e.target))&&(this.state.menu?this._hideContextMenu():this._showContextMenu(e))}),Kt(this,"_handleDocumentContextMenu",e=>{e.target===this._item.current||this._item.current&&this._item.current.contains(e.target)?(e.preventDefault(),this._showContextMenu(e)):this.state.menu&&this._hideContextMenu()}),Kt(this,"_handleDragStart",e=>{e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("application/json",JSON.stringify(this.props.entry)),Jt=this.props.entry}),Kt(this,"_handleDragEnd",()=>{Jt=null}),Kt(this,"_click",!1),Kt(this,"_item",r.createRef()),Kt(this,"_more",r.createRef()),Kt(this,"_menu",r.createRef())}componentDidMount(){document.addEventListener("click",this._handleDocumentClick),document.addEventListener("contextmenu",this._handleDocumentContextMenu)}componentWillUnmount(){document.removeEventListener("click",this._handleDocumentClick),document.removeEventListener("contextmenu",this._handleDocumentContextMenu)}render(){const e=this.props,t=e.entry,n=e.rest,a=e.draggable,s=e.onRename,o=e.onExpand,l=e.theme,c=e.actions,p=this.state,d=p.menu,h=p.isHovered;return r.createElement(Yt,{entry:t,rest:n,onRename:s,onExpand:o},r.createElement("div",{ref:this._item,draggable:a,onDragStart:this._handleDragStart,onDragEnd:this._handleDragEnd,tabIndex:0,className:Object(i.css)(Gt.entry),onClick:this._handleClick,onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave,onMouseDown:this._handleMouseDown,onFocus:this._handleFocus,onKeyDown:this._handleKeyDown},this.props.renderItem()),r.createElement("div",{className:Object(i.css)(Gt.highlight,"dark"===l?Gt.highlightDark:Gt.highlightLight,t.state.isSelected?Gt.highlightActive:null)}),r.createElement(ze,{ref:this._menu,visible:Boolean(d),position:d,actions:c,onHide:this._hideContextMenu}),r.createElement("button",{ref:this._more,tabIndex:-1,className:Object(i.css)(Gt.more,h||d?Gt.moreVisible:Gt.moreInvisible)},this.props.renderMenuIcon()),this.props.renderTree&&this.props.renderTree())}}Kt(Xt,"defaultProps",{draggable:!0});const Gt=i.StyleSheet.create({entry:{position:"relative",display:"inline-block",outline:0,padding:"4px 16px",width:"100%",cursor:"pointer",zIndex:1,whiteSpace:"nowrap"},highlight:{content:'""',display:"inline-block",height:30,position:"absolute",left:0,right:0,opacity:0,zIndex:1,pointerEvents:"none"},highlightLight:{backgroundColor:"rgba(0, 0, 0, .04)"},highlightDark:{backgroundColor:"rgba(255, 255, 255, .04)"},highlightActive:{opacity:1},more:{position:"absolute",left:-8,border:0,outline:0,background:"none",height:30,zIndex:2,padding:"7px 12px",textAlign:"right",":hover":{opacity:1}},moreInvisible:{opacity:0},moreVisible:{opacity:1},icon:{fill:"currentColor",height:16,width:16}});function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const tn=e=>e.replace(/(\.[^.]+$)/,(e,t)=>".js"===t?".tsx":".js");class nn extends r.Component{constructor(e){super(e),en(this,"state",void 0),en(this,"_handleToggleExpand",()=>this.props.onExpand(this.props.entry.item.path,!this.props.entry.state.isExpanded)),en(this,"_handleToggleRename",()=>{this.state.isRenaming&&!this.state.error&&this._handleNameChange(this.state.name),this.setState((e,t)=>e.isRenaming?{isRenaming:!1,name:"",error:null}:{isRenaming:!0,name:t.entry.item.path.split("/").pop()||"",error:null})}),en(this,"_handleDelete",()=>this.props.onDelete(this.props.entry.item.path)),en(this,"_handleNameChange",e=>{const t=this.props.entry;if(e&&(e!==t.item.path.split("/").pop()||t.state.isCreating)){const n=t.item.path.replace(/[^\/]+$/,e);this.props.onRename(t.item.path,n)}}),en(this,"_handleInputChange",e=>{const t=e.target.value;this.setState({name:t,error:this._validateName(t)})}),en(this,"_validateName",e=>{if(e===this.props.entry.item.path.split("/").pop())return null;const t=["\0","\\",":","*","?",'"',"<",">","|"].filter(t=>e.includes(t));return t.length?new Error(`${1===t.length?`${t[0]} is`:`${t.join(", ")} are`} not allowed`):this.props.getAdjacentEntries().some(t=>(t.item.path.split("/").pop()||"").toLowerCase()===e.toLowerCase())?new Error("Another entry already exists with same name"):Object(kt.e)(e)?new Error(`Cannot name a new file as ${e}`):null}),en(this,"_handleInputFocus",e=>{const t=e.target;t instanceof HTMLInputElement&&t.select()}),en(this,"_handleInputBlur",()=>{this.state.error||this._handleNameChange(this.state.name),this.setState({isRenaming:!1,name:"",error:null})}),en(this,"_handleInputKeyUp",e=>{switch(e.keyCode){case h.a.Enter:this._handleToggleRename();break;case h.a.Escape:this._handleInputBlur()}}),en(this,"_handleCreateFile",()=>this.props.onCreateFile(this.props.entry.item.path)),en(this,"_handleCreateFolder",()=>this.props.onCreateFolder(this.props.entry.item.path)),en(this,"_handleCopy",()=>this.props.onCopy(this.props.entry.item.path)),en(this,"_handlePaste",()=>{const e=this.props,t=e.entry,n=e.clipboard,r=e.onPaste,a=e.onClearClipboard;n.forEach(e=>r(t.item.path,e)),a()}),en(this,"_handleDuplicate",()=>{const e=this.props,t=e.entry;(0,e.onPaste)(t.item.path.includes("/")?"folder"===t.item.type?Object(kt.b)(t.item.path):t.item.path:void 0,t)}),en(this,"_handleToggleTSExt",()=>{const e=this.props.entry.item.path;this.props.onRename(e,tn(e))}),en(this,"_getActions",()=>[{label:"New file",handler:this._handleCreateFile},{label:"New folder",handler:this._handleCreateFolder},"folder"===this.props.entry.item.type?{label:"folder"===this.props.entry.item.type&&this.props.entry.state.isExpanded?"Collapse":"Expand",handler:this._handleToggleExpand,combo:[h.a.Enter]}:void 0,this.props.clipboard.length?{label:"Paste",handler:this._handlePaste,combo:[h.a.Meta,h.a.V]}:this.props.entry.item.virtual?void 0:{label:"Copy",handler:this._handleCopy,combo:[h.a.Meta,h.a.C]},this.props.entry.item.virtual?void 0:{label:"Duplicate",handler:this._handleDuplicate,combo:[h.a.Meta,h.a.D]},!Object(kt.e)(this.props.entry.item.path)||this.props.entry.item.path.endsWith(".js")&&!O.a.isAvailable("TYPESCRIPT",this.props.sdkVersion)?void 0:{label:`Rename to ${tn(this.props.entry.item.path)}`,handler:this._handleToggleTSExt},...Object(kt.e)(this.props.entry.item.path)||this.props.entry.item.virtual?[]:[{label:"Rename",handler:this._handleToggleRename,combo:[h.a.F2]},{label:"Delete",handler:this._handleDelete,combo:[h.a.Delete]}]]),en(this,"_renderItem",()=>{const e=this.props.entry,t=this.state,n=t.isRenaming,a=t.name,s=n?" ":e.item.path.split("/").pop();return r.createElement("div",null,this.state.error?r.createElement("div",{className:Object(i.css)(rn.error)},this.state.error.message):null,r.createElement(At,{entry:e}),r.createElement("span",{className:Object(i.css)(rn.label)},s),n?r.createElement("input",{autoFocus:!0,type:"text",value:a,onChange:this._handleInputChange,onFocus:this._handleInputFocus,onBlur:this._handleInputBlur,onKeyUp:this._handleInputKeyUp,className:Object(i.css)(rn.input)}):null)}),en(this,"_renderTree",()=>{const e=this.props,t=e.entry,n=e.rest,a=e.clipboard,s=e.onCreateFile,o=e.onCreateFolder,l=e.onOpen,c=e.onSelect,p=e.onFocus,d=e.onPaste,h=e.onRename,u=e.onExpand,m=e.onDelete,g=e.onCopy,b=e.onClearClipboard,f=e.theme;return"folder"===t.item.type&&n.length&&t.state.isExpanded?r.createElement("div",{className:Object(i.css)(rn.child)},r.createElement(an,{parent:t.item.path,entries:n,clipboard:a,onCreateFile:s,onCreateFolder:o,onOpen:l,onSelect:c,onFocus:p,onCopy:g,onPaste:d,onRename:h,onExpand:u,onDelete:m,onClearClipboard:b,sdkVersion:this.props.sdkVersion,theme:f})):null}),en(this,"_renderMenuIcon",()=>r.createElement("svg",{className:Object(i.css)(rn.icon),viewBox:"0 0 16 16"},r.createElement("circle",{cy:"3",cx:"8",r:"1.5"}),r.createElement("circle",{cy:"8",cx:"8",r:"1.5"}),r.createElement("circle",{cy:"13",cx:"8",r:"1.5"})));const t=e.entry;this.state={name:t.state.isCreating&&t.item.path.split("/").pop()||"",error:null,isRenaming:!t.item.asset&&!!t.state.isCreating}}componentDidMount(){this.props.entry.state.isCreating&&this.props.onOpen(this.props.entry.item.path)}render(){const e=this.props,t=e.entry,n=e.rest,a=e.onOpen,i=e.onFocus,s=e.onRename,o=e.onExpand,l=e.theme,c=!(Object(kt.e)(this.props.entry.item.path)||this.props.entry.item.virtual||this.props.entry.state.isCreating);return r.createElement(Xt,{entry:t,rest:n,onOpen:a,onFocus:i,onRename:s,onExpand:o,renderItem:this._renderItem,renderTree:this._renderTree,renderMenuIcon:this._renderMenuIcon,actions:this._getActions(),draggable:c,theme:l})}}const rn=i.StyleSheet.create({child:{marginLeft:16},label:{verticalAlign:-1,margin:"0 6px",userSelect:"none"},input:{position:"absolute",top:0,left:35,height:28,margin:1,border:0,background:"rgba(0, 0, 0, .08)",outline:0,paddingLeft:2},error:{backgroundColor:S.a.error,color:"#fff",padding:"4px 8px",position:"fixed",marginTop:-32,marginLeft:20,borderRadius:3},icon:{height:16,width:16,opacity:.7,fill:"currentColor"}});class an extends r.PureComponent{constructor(){var e,t,n;super(...arguments),n=(()=>this.props.entries.filter(e=>!e.item.path.replace(new RegExp(`^${Vt()(this.props.parent)}/`),"").includes("/"))),(t="_getImmediateChildren")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}render(){const e=this.props,t=e.entries,n=e.clipboard,a=e.onCreateFile,s=e.onCreateFolder,o=e.onFocus,l=e.onOpen,c=e.onSelect,p=e.onPaste,d=e.onRename,h=e.onExpand,u=e.onDelete,m=e.onCopy,g=e.onClearClipboard,b=e.className,f=e.theme;return r.createElement("div",{className:`${Object(i.css)(sn.container)} ${b||""}`},this._getImmediateChildren().sort((e,t)=>e.item.type===t.item.type?e.item.path.startsWith(".")&&!t.item.path.startsWith(".")?1:t.item.path.startsWith(".")&&!e.item.path.startsWith(".")?-1:e.item.path.localeCompare(t.item.path):"folder"===e.item.type?-1:1).map(e=>r.createElement(nn,{key:e.item.path,entry:e,rest:t.filter(t=>Object(kt.g)(t.item.path,e.item.path)),clipboard:n,onCreateFile:a,onCreateFolder:s,onOpen:l,onSelect:c,onFocus:o,onCopy:m,onPaste:p,onDelete:u,onRename:d,onExpand:h,onClearClipboard:g,getAdjacentEntries:this._getImmediateChildren,sdkVersion:this.props.sdkVersion,theme:f})))}}const sn=i.StyleSheet.create({container:{display:"inline-block",width:"100%"}});n(260);var on=n(660);function ln(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function cn(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function s(e){ln(i,r,a,s,o,"next",e)}function o(e){ln(i,r,a,s,o,"throw",e)}s(void 0)})}}const pn=[/^\./,/\.(jks|keystore)$/,/^(android|ios)$/,/^coverage$/,/^(js|ts)config\.json$/,/^flow-typed$/,/^node_modules$/,/^npm-debug\.log$/,/^npm-error\.log$/,/^package-lock\.json$/,/^yarn-debug\.log$/,/^yarn-error\.log$/,/^yarn\.lock$/,/^__tests__$/,/~$/],dn=[/^\.eslintrc(\.json)?$/],hn=function(){var e=cn(regeneratorRuntime.mark(function e(t,n,r){var a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!pn.some(e=>e.test(t.name))||dn.some(e=>e.test(t.name))){e.next=2;break}return e.abrupt("return");case 2:if(!t.isFile){e.next=9;break}return e.next=5,new Promise((e,n)=>t.file(e,n));case 5:a=e.sent,n.push({path:r,file:a}),e.next=16;break;case 9:if(!t.isDirectory){e.next=16;break}return i=t.createReader(),e.next=13,new Promise((e,t)=>i.readEntries(e,t));case 13:return s=e.sent,e.next=16,Promise.all(s.map(function(){var e=cn(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hn(t,n,`${r}/${t.name}`));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 16:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}();function un(e,t){return mn.apply(this,arguments)}function mn(){return(mn=cn(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.next=3,Promise.all(t.map(e=>{const t=n[e.name]||e.name;return e instanceof File?void r.push({file:e,path:t}):hn(e,r,t)}));case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function gn(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function bn(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function s(e){gn(i,r,a,s,o,"next",e)}function o(e){gn(i,r,a,s,o,"throw",e)}s(void 0)})}}function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vn=Object(k.a)(class extends r.PureComponent{constructor(){var e;super(...arguments),e=this,fn(this,"state",{isImportModalShown:!1,isDragging:!1,isImporting:!1,itemsToImport:[],itemsErrored:[],importProgress:0,importTotal:0}),fn(this,"_handleDragOver",e=>{if(Ht(e,"Files")){if(e.preventDefault(),this.state.isImportModalShown)return!0;this.state.isDragging||this.setState({isDragging:!0}),clearTimeout(this._dragTimer),this._dragTimer=setTimeout(this._handleDragEnd,300)}}),fn(this,"_handleDragEnd",()=>{this.state.isDragging&&this.setState({isDragging:!1})}),fn(this,"_handleDrop",e=>{if(Ht(e,"Files")&&e.dataTransfer&&(e.dataTransfer.items||e.dataTransfer.files)){const t=e.dataTransfer;e.preventDefault();const n=t.items?Array.from(t.items).map(e=>e.webkitGetAsEntry()):Array.from(t.files);this._handleSelectFilesForImport(n)}}),fn(this,"_dragTimer",void 0),fn(this,"_showImportModal",()=>this.setState({isImportModalShown:!0})),fn(this,"_hideImportModal",()=>this.setState({isImportModalShown:!1,itemsToImport:[]})),fn(this,"_handleSelectFilesForImport",e=>this.setState(t=>({isImportModalShown:!0,itemsToImport:[...t.itemsToImport,...e],itemsErrored:[]}))),fn(this,"_handleImportClick",bn(regeneratorRuntime.mark(function t(){var n,r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isImporting:!0,isImportModalShown:!1,importProgress:0}),n=e.props.entries.map(e=>e.item.path),r={},e.state.itemsToImport.forEach(e=>{e.isDirectory&&(r[e.name]=Object(kt.c)(n,e.name))}),t.next=6,un(e.state.itemsToImport,r);case 6:return a=t.sent,e.setState({importTotal:a.length}),t.next=10,Promise.all(a.map(function(){var t=bn(regeneratorRuntime.mark(function t(n){var r,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.file,a=n.path,t.prev=1,!/\.(md|json|js|tsx?)$/.test(a)&&!Object(kt.d)(a)){t.next=8;break}return t.next=5,new Promise((e,t)=>{const n=new FileReader;n.onload=(t=>e({item:{path:a,type:"file",content:t.target?t.target.result:""},state:{}})),n.onerror=(e=>t(e)),n.readAsText(r)});case 5:t.t0=t.sent,t.next=11;break;case 8:return t.next=10,e.props.uploadFileAsync(r).then(e=>({item:{path:a,type:"file",uri:e,asset:!0},state:{}}));case 10:t.t0=t.sent;case 11:if(i=t.t0,e.state.itemsToImport.length){t.next=14;break}return t.abrupt("return");case 14:e.props.onImportFile(i),t.next=21;break;case 17:t.prev=17,t.t1=t.catch(1),console.error(t.t1),e.setState(e=>({itemsErrored:[...e.itemsErrored,{item:r,error:t.t1}]}));case 21:return t.prev=21,e.setState(e=>({importProgress:e.importProgress+1})),t.finish(21);case 24:case"end":return t.stop()}},t,this,[[1,17,21,24]])}));return function(e){return t.apply(this,arguments)}}()));case 10:e.setState({itemsToImport:[]});case 11:case"end":return t.stop()}},t,this)}))),fn(this,"_handleFilesChange",e=>this._handleSelectFilesForImport(e.target.files)),fn(this,"_handleRemoveFileImport",e=>this.setState(t=>({itemsToImport:t.itemsToImport.filter(t=>t!==e)}))),fn(this,"_handleProgressDismiss",()=>{this.setState({itemsToImport:[],itemsErrored:[],importProgress:0,isImporting:!1})})}componentDidMount(){document.addEventListener("dragover",this._handleDragOver),document.addEventListener("drop",this._handleDrop)}render(){const e=this.state,t=e.isImporting,n=e.importProgress,a=e.itemsToImport,s=e.itemsErrored,o=e.isDragging,l=e.isImportModalShown,c=e.importTotal,d=this.props.theme,h=n-s.length;return r.createElement("div",{className:this.props.className},this.props.render({onImportStart:this._showImportModal}),t?r.createElement("div",{className:Object(i.css)(yn.importProgress)},r.createElement("div",{className:Object(i.css)(yn.importProgressHeader)},r.createElement("h4",{className:Object(i.css)(yn.importProgressLabel)},0===c?"Reading files…":n===c?`${h} file${1===h?"":"s"} imported${s.length?`, ${s.length} failed to import`:" successfully"}`:`Importing files (${n+1}/${c})`),r.createElement("button",{onClick:this._handleProgressDismiss,className:Object(i.css)(yn.importProgressButton)},n===c?"Dismiss":"Cancel")),c?r.createElement("progress",{className:Object(i.css)(yn.importProgressBar),value:n/c*100,max:100}):null):null,r.createElement(on.a,{visible:o},r.createElement("div",{className:Object(i.css)(yn.dropzoneLarge)},r.createElement("h2",null,"Drop anywhere to import"),r.createElement("p",null,"You'll be able to adjust your selection before importing them into your project"))),r.createElement(p.a,{visible:l,onDismiss:this._hideImportModal,title:"Import files"},r.createElement("p",{className:Object(i.css)(yn.paragraph)},"Import JavaScript files from your computer or a GitHub repository to use in your expo project."),r.createElement("div",{className:Object(i.css)(yn.dropzoneSmall,"dark"===d?yn.dropzoneSmallDark:yn.dropzoneSmallLight)},a.length?r.createElement("ul",{className:Object(i.css)(yn.fileList)},a.map((e,t)=>r.createElement("li",{className:Object(i.css)(yn.fileEntry),key:t},r.createElement("span",{className:Object(i.css)(yn.fileEntryName)},e.isDirectory?`${e.name}/`:e.name),r.createElement("span",{className:Object(i.css)(yn.fileEntrySize)},"number"==typeof e.size?`${(e.size/1024).toFixed(2)}kb`:""),r.createElement("button",{onClick:()=>this._handleRemoveFileImport(e),className:Object(i.css)(yn.fileEntryClose)},"×")))):r.createElement("div",{className:Object(i.css)(yn.dropzonePlaceholder)},"Drop your files or",r.createElement("label",{className:Object(i.css)(yn.fileInputLabel)},"browse",r.createElement("input",{multiple:!0,type:"file",accept:".js",onChange:this._handleFilesChange,className:Object(i.css)(yn.fileInput)})))),r.createElement(x.a,{large:!0,variant:"secondary",onClick:this._handleImportClick,disabled:!a.length},"Import")))}});const yn=i.StyleSheet.create({dropzoneLarge:{textAlign:"center",padding:48,border:`2px dashed ${S.a.text.dark}`,borderRadius:4},dropzoneSmall:{border:"1px dashed rgba(0, 0, 0, .32)",borderRadius:3,height:"12em",marginBottom:8},dropzoneSmallLight:{backgroundColor:"rgba(255, 255, 255, .5)"},dropzoneSmallDark:{backgroundColor:"rgba(0, 0, 0, .2)"},dropzonePlaceholder:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},paragraph:{margin:"8px 0 16px"},fileInputLabel:{margin:0,paddingLeft:4,color:S.a.primary,fontWeight:"normal",cursor:"pointer",":hover":{textDecoration:"underline"}},fileInput:{display:"none"},fileList:{listStyle:"none",textAlign:"left",padding:0,height:"100%",width:"100%",overflow:"auto"},fileEntry:{display:"flex",borderBottom:"1px solid rgba(0, 0, 0, .06)",alignItems:"center"},fileEntrySize:{flex:1,opacity:.5,margin:8},fileEntryName:{margin:8,maxWidth:"15em",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},fileEntryClose:{padding:"4px 12px",margin:"0 4px",fontSize:18,background:"none",border:"none",appearance:"none"},importProgress:{position:"fixed",zIndex:10,left:"1em",bottom:"4em",width:"24em",padding:"8px 16px",borderRadius:3,backgroundColor:Object(N.a)("editor-background"),border:`1px solid ${Object(N.a)("editor-border")}`,boxShadow:"0 2px 8px rgba(36, 44, 58, 0.3)"},importProgressHeader:{display:"flex",flexDirection:"row",alignItems:"center",margin:"4px 0"},importProgressLabel:{flex:1,fontSize:"1em",fontWeight:500,margin:0},importProgressButton:{appearance:"none",background:"none",border:0,color:S.a.primary},importProgressBar:{appearance:"none",width:"100%",margin:"8px 0",height:6,borderRadius:3,overflow:"hidden","::-webkit-progress-bar":{backgroundColor:"rgba(0, 0, 0, .08)"},"::-webkit-progress-value":{backgroundColor:S.a.primary},"::-moz-progress-bar":{backgroundColor:"rgba(0, 0, 0, .16)"},"::-moz-progress-value":{backgroundColor:S.a.primary}}});function En(){return(En=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}class wn extends r.PureComponent{render(){const e=this.props,t=e.innerRef,n=xn(e,["innerRef"]);return r.createElement("button",En({},n,{className:Object(i.css)(Sn.button),ref:t}),r.createElement("svg",{className:Object(i.css)(Sn.icon),viewBox:"0 0 16 16"},this.props.children))}}var Cn=r.forwardRef((e,t)=>r.createElement(wn,En({},e,{innerRef:t})));const Sn=i.StyleSheet.create({button:{appearance:"none",background:"transparent",border:0,margin:0,outline:0},icon:{fill:"currentColor",height:16,width:16,verticalAlign:-3}});function kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class On extends r.PureComponent{constructor(){super(...arguments),kn(this,"state",{menu:null}),kn(this,"_hideContextMenu",()=>this.setState({menu:null})),kn(this,"_showContextMenu",e=>{const t=e.currentTarget.getBoundingClientRect(),n=t.bottom,r=t.right;this.setState({menu:{pageX:r-8,pageY:n-8}})}),kn(this,"_handleDocumentClick",e=>{this.state.menu&&this._button.current&&e.target!==this._button.current&&!this._button.current.contains(e.target)&&this._hideContextMenu()}),kn(this,"_toggleContextMenu",e=>{this.state.menu?this._hideContextMenu():this._showContextMenu(e)}),kn(this,"_button",r.createRef())}componentDidMount(){document.addEventListener("click",this._handleDocumentClick),document.addEventListener("contextmenu",this._hideContextMenu)}componentWillUnmount(){document.removeEventListener("click",this._handleDocumentClick),document.removeEventListener("contextmenu",this._hideContextMenu)}render(){const e="published"===this.props.saveStatus||"saved-draft"===this.props.saveStatus;return r.createElement("div",null,r.createElement(Cn,{ref:this._button,onClick:this._toggleContextMenu},r.createElement("g",{fillOpacity:"0.7"},r.createElement("circle",{cy:"3",cx:"8",r:"1.5"}),r.createElement("circle",{cy:"8",cx:"8",r:"1.5"}),r.createElement("circle",{cy:"13",cx:"8",r:"1.5"}))),r.createElement(ze,{visible:Boolean(this.state.menu),position:this.state.menu,actions:[{label:"Import files",handler:this.props.onImportFilesClick},{label:"Import git repository",handler:this.props.onImportRepoClick},{label:"Export project",handler:this.props.onExportClick,disabled:!(e&&this.props.hasSnackId)}],onHide:this._hideContextMenu}))}}var _n=n(862),jn=n.n(_n);function Ln(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Dn=45e3;var Mn=Object(k.a)(class extends r.PureComponent{constructor(){var e,t,n;super(...arguments),e=this,Pn(this,"state",{status:"idle",advanced:!1,url:"",repo:"",path:"",branch:""}),Pn(this,"_hideImportModal",()=>{l.a.getInstance().logEvent("IMPORT_COMPLETED",{reason:"dismiss"},"importStart"),this.setState({status:"idle",url:"",repo:"",path:"",branch:""}),this.props.onHide()}),Pn(this,"_handleImportRepoClick",(t=regeneratorRuntime.mark(function t(n){var r,a,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.setState({status:"importing"}),setTimeout(()=>{e.props.visible&&"importing"===e.state.status&&e.setState({status:"error"})},Dn),i=!1,t.prev=4,t.next=7;break;case 7:return s={repo:e.state.repo},e.state.path&&(s.subpath=e.state.path),e.state.branch&&(s.branch=e.state.branch),t.next=13,fetch(`https://snackager.expo.io/git?${ve.a.stringify(s)}`);case 13:return r=t.sent,t.next=16,r.text();case 16:a=t.sent,e.props.visible&&(r.ok?(l.a.getInstance().logEvent("IMPORT_COMPLETED",{reason:"success"},"importStart"),e.props.preventRedirectWarning(),window.location.href=`/${a}`):i=!0),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(4),i=!0;case 23:i?(e.setState({status:"error"}),l.a.getInstance().logEvent("IMPORT_COMPLETED",{reason:"error"},"importStart")):e.setState({status:"idle"});case 24:case"end":return t.stop()}},t,this,[[4,20]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,a){var i=t.apply(e,n);function s(e){Ln(i,r,a,s,o,"next",e)}function o(e){Ln(i,r,a,s,o,"throw",e)}s(void 0)})},function(e){return n.apply(this,arguments)})),Pn(this,"_handleChange",e=>{this.setState({[e.target.name]:e.target.value})}),Pn(this,"_handleChangeUrl",e=>{const t=e.target.value,n=jn()(t);this.setState({url:t,repo:`${n.protocol}://${n.source}/${n.owner}/${n.name}`,path:n.filepath,branch:n.ref})})}render(){const e=this.state.status,t="importing"===e,n="error"===e;return r.createElement(p.a,{visible:this.props.visible,onDismiss:this._hideImportModal,title:"Import git repository"},t?r.createElement(u.a,{duration:45e3,className:Object(i.css)(In.progress)}):null,r.createElement("form",{onSubmit:this._handleImportRepoClick},r.createElement("p",{className:n?Object(i.css)(In.errorParagraph):Object(i.css)(In.paragraph)},n?"An error occurred during import. This could be because the data provided was invalid, or because the repository referenced is not a properly formatted Expo project.":"Import an Expo project from a Git repository."),this.state.advanced?r.createElement(r.Fragment,null,r.createElement("h4",{className:Object(i.css)(In.subtitle)},"Repository URL"),r.createElement(K.a,{name:"repo",value:this.state.repo,onChange:this._handleChange,placeholder:"https://github.com/ide/love-languages.git",autoFocus:!0}),r.createElement("h4",{className:Object(i.css)(In.subtitle)},"Folder path"),r.createElement(K.a,{name:"path",value:this.state.path,onChange:this._handleChange,placeholder:"/example/app"}),r.createElement("h4",{className:Object(i.css)(In.subtitle)},"Branch name"),r.createElement(K.a,{name:"branch",value:this.state.branch,onChange:this._handleChange,placeholder:"master"})):r.createElement(r.Fragment,null,r.createElement("h4",{className:Object(i.css)(In.subtitle)},"Git URL"),r.createElement(re,{minRows:2,value:this.state.url,onChange:this._handleChangeUrl,placeholder:"https://github.com/ide/love-languages/tree/master/example/app",autoFocus:!0})),r.createElement("button",{type:"button",onClick:()=>this.setState(e=>({advanced:!e.advanced})),className:Object(i.css)(In.advanced)},this.state.advanced?"Hide":"Show"," advanced options"),r.createElement("div",{className:Object(i.css)(In.buttons)},r.createElement(x.a,{large:!0,disabled:!this.state.url,loading:t,type:"submit",variant:"secondary"},t?"Importing repository…":"Import repository"))))}});const In=i.StyleSheet.create({paragraph:{margin:"8px 0 16px"},errorParagraph:{margin:"8px 0 16px",color:"red"},subtitle:{fontSize:16,fontWeight:500,padding:0,lineHeight:"22px",margin:"16px 0 6px 0"},progress:{marginTop:-16},advanced:{appearance:"none",background:"none",border:0,padding:"8px 0",marginTop:8,textAlign:"left",width:"100%",color:S.a.primary},buttons:{margin:"16px 0 0 0"}});var Nn=n(115);function Rn(e){if("file"===e.item.type){if(e.state.isSelected||e.state.isFocused||e.state.isOpen)return Object(Nn.a)(e,{state:{isOpen:!1,isSelected:!1,isFocused:!1}})}else if(e.state.isSelected)return Object(Nn.a)(e,{state:{isSelected:!1}});return e}function Tn(e,t,n,r){const a=t?e.find(e=>e.item.path===t):null,i=a?"folder"===a.item.type?a.item.path:Object(kt.b)(a.item.path):null,s=n.item.path.split("/").pop(),o=Object(Nn.a)(n,{item:{path:Object(kt.c)(e.map(e=>e.item.path),i?`${i}/${s}`:s,r)}});return o.state={isCreating:!0},o}function Fn(e,t,n){const r="file"===t?{item:{path:"Untitled file.js",type:"file",content:""},state:{isCreating:!0}}:{item:{path:"Untitled folder",type:"folder"},state:{isCreating:!0}};let a=n;if("string"!=typeof a){const t=e.find(e=>!0===e.state.isSelected);a=t?t.item.path:void 0}const i=Tn(e,a,r);return[...e.map(e=>"folder"===e.item.type&&Object(kt.g)(i.item.path,e.item.path)&&!e.state.isExpanded?Object(Nn.a)(e,{state:{isExpanded:!0}}):e),i]}function An(e,t,n){const r=[];let a=Object(kt.b)(t);for(;a;){const t=e.find(e=>e.item.path===a);if(t){if("folder"!==t.item.type)throw new Error("File path must be inside a folder");break}r.push({item:{type:"folder",path:a},state:{isExpanded:!!n}}),a=Object(kt.b)(a)}return r}function zn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.find(e=>e.item.path===t),a=!!r&&"folder"===r.item.type;return e.map(e=>{if(e.item.path===t)return"file"===e.item.type?e.state.isSelected&&e.state.isFocused&&e.state.isOpen?e:Object(Nn.a)(e,{state:{isSelected:!0,isFocused:!0,isOpen:!0}}):Object(Nn.a)(e,{state:{isSelected:!0,isExpanded:n?e.state.isExpanded:!e.state.isExpanded}});if("file"===e.item.type){if(e.state.isSelected||e.state.isFocused)return Object(Nn.a)(e,{state:{isSelected:!1,isFocused:!!a&&e.state.isFocused}})}else if(e.state.isSelected)return Object(Nn.a)(e,{state:{isSelected:!1}});return e})}var $n=n(673);function Wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Un(e,t,n[t])})}return e}function Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Bn=()=>r.createElement("g",{transform:"translate(7.000000, 7.000000)"},r.createElement("circle",{fill:"#4CAF50",cx:"4.5",cy:"4.5",r:"4.5"}),r.createElement("rect",{fill:"#FFFFFF",x:"4",y:"2",width:"1",height:"5"}),r.createElement("rect",{fill:"#FFFFFF",x:"2",y:"4",width:"5",height:"1"}));var Vn=Object(k.a)(class extends r.PureComponent{constructor(){super(...arguments),Un(this,"state",{clipboard:[],deleted:[],openFilesPane:!0,projectPane:!0,isRepoManagerShown:!1}),Un(this,"_handleEntrySelect",e=>this.props.onEntriesChange(function(e,t){return e.map(e=>e.item.path===t?Object(Nn.a)(e,{state:{isSelected:!e.state.isSelected}}):e)}(this.props.entries,e))),Un(this,"_handleEntryOpen",e=>this.props.onEntriesChange(zn(this.props.entries,e))),Un(this,"_handleEntryFocus",e=>this.props.onEntriesChange(zn(this.props.entries,e,!0))),Un(this,"_handleEntryExpand",(e,t)=>this.props.onEntriesChange(function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.map(e=>e.item.path===t&&"folder"===e.item.type?Object(Nn.a)(e,{state:{isExpanded:n}}):e)}(this.props.entries,e,t))),Un(this,"_handleEntryRename",(e,t)=>{e!==t&&this.props.onRenameFile(e,t),this.props.onEntriesChange(function(e,t,n){const r=e.find(e=>e.item.path===t);if(!r)return e;const a=Object(Nn.a)(r,{item:{path:n}});delete a.state.isCreating;const i=e.map(e=>e.item.path===r.item.path?a:"folder"===a.item.type&&Object(kt.g)(e.item.path,r.item.path)?Object(Nn.a)(e,{item:{path:Object(kt.a)(e.item.path,r.item.path,a.item.path)}}):e),s=An(i,a.item.path,!0);return[...i,...s]}(this.props.entries,e,t))}),Un(this,"_restoreEntries",e=>this.props.onEntriesChange([...this.props.entries,...e.map(e=>Object(Nn.a)(e,{item:{path:Object(kt.c)(this.props.entries.map(e=>e.item.path),e.item.path)}}))])),Un(this,"_handleDismissDelete",e=>this.setState(t=>({deleted:t.deleted.filter(t=>t.id!==e)}))),Un(this,"_handleEntryClose",e=>this.props.onEntriesChange(this.props.entries.map(t=>t.item.path===e?Rn(t):t))),Un(this,"_handleEntryCloseOthers",e=>this.props.onEntriesChange(this.props.entries.map(t=>t.item.path!==e?Rn(t):t))),Un(this,"_handleEntryCloseAll",()=>this.props.onEntriesChange(this.props.entries.map(e=>Rn(e)))),Un(this,"_handleEntryDelete",e=>{const t=this.props.entries.find(t=>t.item.path===e),n=[];this.props.onEntriesChange(this.props.entries.filter(t=>{const r=t.item.path===e||Object(kt.g)(t.item.path,e);return r&&(n.push(t),this.props.onRemoveFile(e)),!r})),this.setState(e=>({deleted:[...e.deleted,{id:this._currentDeleteID++,path:t?t.item.path:"Item",entries:n}]}))}),Un(this,"_currentDeleteID",0),Un(this,"_handleEntryImport",e=>{let t;if(Object(kt.j)(e.item.path))t=this.props.entries.map(t=>{if(Object(kt.j)(t.item.path))try{const n=JSON.parse(t.item.content),r=JSON.parse(e.item.content);return Wn({},t,{item:Wn({},t.item,{content:JSON.stringify(Wn({},n,{dependencies:Wn({},n.dependencies,Object.keys(r.dependencies).reduce((e,t)=>(Object(It.isModulePreloaded)(t,this.props.sdkVersion)||(e[t]=r.dependencies[t]),e),{}))}),null,2)})})}catch(e){}return t});else if(Object(kt.d)(e.item.path))try{const n=JSON.parse(e.item.content);n.plugins&&(n.plugins=n.plugins.filter(e=>$n.plugins.includes(e)),n.plugins.length||delete n.plugins),n.rules&&(n.rules=Mt()(n.rules,(e,t)=>t.includes("/")?$n.plugins.some(e=>t.startsWith(`${e}/`)):t)),n.extends&&("string"!=typeof n.extends||n.extends.startsWith("eslint:")?(n.extends=n.extends.filter(e=>e.startsWith("eslint:")),n.extends.length||delete n.extends):delete n.extends),(t=this.props.entries.filter(e=>!Object(kt.d)(e.item.path))).push(Object(Nn.a)(e,{item:{content:JSON.stringify(n,null,2)}}))}catch(e){t=this.props.entries}else{const n=An(this.props.entries,e.item.path);(t=[...this.props.entries,...n]).push(Object(Nn.a)(e,{item:{path:Object(kt.c)(t.map(e=>e.item.path),e.item.path)}}))}this.props.onEntriesChange(t)}),Un(this,"_handleEntryPaste",(e,t)=>this.props.onEntriesChange(function(e,t,n){const r=Tn(e,t,n,"- Copy");if("folder"===n.item.type){const t=e.filter(e=>Object(kt.g)(e.item.path,n.item.path)).map(e=>Object(Nn.a)(e,{item:{path:Object(kt.a)(e.item.path,n.item.path,r.item.path)}}));return[...e,...t,r]}return[...e,r]}(this.props.entries,e,t))),Un(this,"_handleCopy",e=>this.setState({clipboard:this.props.entries.filter(t=>t.item.path===e)})),Un(this,"_handleClearClipboard",()=>this.setState({clipboard:[]})),Un(this,"_toggleOpenFilesPane",()=>this.setState(e=>({openFilesPane:!e.openFilesPane}))),Un(this,"_toggleProjectPane",()=>this.setState(e=>({projectPane:!e.projectPane}))),Un(this,"_handleCreateFile",e=>this.props.onEntriesChange(Fn(this.props.entries,"file",e))),Un(this,"_handleCreateFolder",e=>this.props.onEntriesChange(Fn(this.props.entries,"folder",e))),Un(this,"_handleShowRepoManager",()=>{l.a.getInstance().logEvent("IMPORT_REQUESTED"),l.a.getInstance().startTimer("importStart"),this.setState({isRepoManagerShown:!0})}),Un(this,"_handleHideRepoManager",()=>this.setState({isRepoManagerShown:!1}))}render(){return r.createElement(vn,{className:Object(i.css)(Hn.container),entries:this.props.entries,onImportFile:this._handleEntryImport,uploadFileAsync:this.props.uploadFileAsync,render:e=>{let t=e.onImportStart;return this.props.visible?r.createElement(Je,{direction:"horizontal",className:Object(i.css)(Hn.pane)},r.createElement(Rt.a,null,r.createElement(Mn,{visible:this.state.isRepoManagerShown,onHide:this._handleHideRepoManager,preventRedirectWarning:this.props.preventRedirectWarning}),r.createElement(Tt,{title:"Open files",expanded:this.state.openFilesPane,onClick:this._toggleOpenFilesPane},r.createElement("ul",{className:Object(i.css)(Hn.tabs),"data-test-id":"file-list-open-files-content"},this.props.entries.filter(e=>"file"===e.item.type&&e.state.isOpen).map(e=>r.createElement(Wt,{key:e.item.path,entry:e,onOpen:()=>this._handleEntryOpen(e.item.path),onClose:()=>this._handleEntryClose(e.item.path),onCloseOthers:()=>this._handleEntryCloseOthers(e.item.path),onCloseAll:this._handleEntryCloseAll})))),r.createElement(Tt,{className:Object(i.css)(Hn.project),title:"Project",expanded:this.state.projectPane,onClick:this._toggleProjectPane,buttons:[r.createElement(Cn,{key:"create-file",onClick:()=>this._handleCreateFile()},r.createElement("path",{fillOpacity:"0.7",d:"M3,2 L13,2 L13,14 L3,14 L3,2 Z M9,2 L13,6 L13,2 L9,2 Z M9,6 L9,2 L8,2 L8,7 L13,7 L13,6 L9,6 Z"}),r.createElement(Bn,null)),r.createElement(Cn,{key:"create-folder",onClick:()=>this._handleCreateFolder()},r.createElement("path",{fillOpacity:"0.7",d:"M7.25,4 L7.5,4 L7.5,3 L7,3.5 L7,2 L15,2 L15,4 L7.25,4 Z M6.75,4 L5,4 L7,2 L7,3.5 L6.5,4 L6.75,4 Z M1,4 L15,4 L15,14 L1,14 L1,4 Z M7.5,3 L7.5,4 L14,4 L14,3 L7.5,3 Z"}),r.createElement(Bn,null)),r.createElement(On,{key:"menu",onImportFilesClick:t,onImportRepoClick:this._handleShowRepoManager,onExportClick:this.props.onDownloadCode,saveStatus:this.props.saveStatus,hasSnackId:this.props.hasSnackId})]},r.createElement(Yt,{className:Object(i.css)(Hn.files),rest:this.props.entries,onRename:this._handleEntryRename},r.createElement("div",{className:Object(i.css)(Hn.children),"data-test-id":"file-list-project-content"},r.createElement(an,{parent:"",entries:this.props.entries,clipboard:this.state.clipboard,onCreateFile:this._handleCreateFile,onCreateFolder:this._handleCreateFolder,onOpen:this._handleEntryOpen,onSelect:this._handleEntrySelect,onFocus:this._handleEntryFocus,onPaste:this._handleEntryPaste,onRename:this._handleEntryRename,onExpand:this._handleEntryExpand,onDelete:this._handleEntryDelete,onCopy:this._handleCopy,onClearClipboard:this._handleClearClipboard,sdkVersion:this.props.sdkVersion,theme:this.props.theme,className:Object(i.css)(Hn.list)})))),this.state.deleted.map(e=>r.createElement(Nt.a,{key:e.id,label:`Deleted ${e.path.split("/").pop()}`,actions:[{label:"Undo",action:()=>{this._restoreEntries(e.entries),this._handleDismissDelete(e.id)}},{label:"Dismiss"}],onDismiss:()=>this._handleDismissDelete(e.id)})).reverse())):null}})}});const Hn=i.StyleSheet.create({container:{display:"flex",flexDirection:"column"},list:{padding:"0 12px",height:"100%"},pane:{flex:1,display:"flex",flexDirection:"column",width:240,minWidth:240,height:"100%",zIndex:10},project:{flex:1},files:{flex:1,overflow:"auto"},children:{position:"relative"},tabs:{margin:0,listStyle:"none",padding:"8px 0",overflow:"auto",":empty":{display:"none"}},toolbar:{padding:8},toasts:{position:"fixed",bottom:"3em",left:"1em",zIndex:10}});var Zn=n(871),qn=n.n(Zn);var Qn=Object(k.a)(class extends r.Component{render(){const e=this.props,t=e.saveHistory,a=e.theme,s=t.filter(e=>!e.isDraft);return r.createElement("div",{className:Object(i.css)(Yn.container)},s.length?r.createElement(r.Fragment,null,r.createElement("p",{className:Object(i.css)(Yn.hint)},"Click on a previous save to open it in a new tab. You can make changes and then save it to overwrite the current version, or change the name to save as a new Snack."),s.map(e=>r.createElement("a",{key:e.id,target:"_blank",href:`/${e.hashId}`,className:Object(i.css)(Yn.item,"dark"===a?Yn.dark:Yn.light)},r.createElement("div",null,r.createElement("h4",{className:Object(i.css)(Yn.title)},qn()(e.savedAt,"hh:mm a, dddd")),r.createElement("p",{className:Object(i.css)(Yn.description)},qn()(e.savedAt,"Do MMMM YYYY"))),r.createElement("img",{className:Object(i.css)(Yn.icon),src:n("dark"===a?514:513),alt:"Open in new tab"})))):r.createElement("p",{className:Object(i.css)(Yn.placeholder)},"There are no previous saves for this Snack."))}});const Yn=i.StyleSheet.create({container:{margin:-12,paddingTop:8,textAlign:"left"},hint:{margin:12},item:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:12,cursor:"pointer",color:"inherit",textDecoration:"none",borderRadius:3,"--icon-opacity":"0",":hover":{"--icon-opacity":"1"}},light:{":hover":{backgroundColor:"rgba(0, 0, 0, .08)"}},dark:{":hover":{backgroundColor:"rgba(255, 255, 255, .08)"}},title:{fontSize:16,fontWeight:"bold",marginTop:0,marginBottom:4},description:{fontSize:14,margin:0,whiteSpace:"nowrap",textOverflow:"ellipsis"},icon:{margin:8,height:16,width:16,opacity:"var(--icon-opacity)"},placeholder:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:96,margin:24,fontSize:16,opacity:.5}});n(584);var Kn=Object(a.b)(e=>({authFlow:e.splitTestSettings.authFlow||"save1"}))(class extends r.Component{constructor(){var e,t,n;super(...arguments),n=(e=>{this.props.visible&&13===e.keyCode&&(e.preventDefault(),this.props.onPublish())}),(t="_handleKeyDown")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}componentDidMount(){document.addEventListener("keydown",this._handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this._handleKeyDown)}render(){const e="save2"===this.props.authFlow?"Want a stable and easy to remember URL?":"Want to easily find this snack again?",t="save2"===this.props.authFlow?"Save to your Expo Profile":"Save to Profile";return r.createElement(p.a,{visible:this.props.visible,title:"Save your snack",onDismiss:this.props.onDismiss},r.createElement("p",{className:Object(i.css)(Jn.text),style:{marginTop:16}},"The shareable link to your Snack"," ",r.createElement("a",{href:this.props.snackUrl,target:"blank"},this.props.snackUrl)),r.createElement("p",{className:Object(i.css)(Jn.text)},"Every time you save, your will get a new link to share. ",e," Log in or sign up and save to your profile!"),r.createElement(x.a,{large:!0,variant:"secondary",onClick:this.props.onPublish,loading:this.props.isPublishing},t),this.props.zipUrl?r.createElement("p",{className:Object(i.css)(Jn.caption)},r.createElement("a",{className:Object(i.css)(Jn.link),href:this.props.zipUrl,target:"blank"},"Download .zip file")):null)}});const Jn=i.StyleSheet.create({text:{marginBottom:24,fontSize:"16px",padding:"0 24px 0 24px",lineHeight:"22px",textAlign:"center"},caption:{marginTop:24,fontSize:"16px",lineHeight:"22px",textAlign:"center"},link:{color:S.a.primary,cursor:"pointer",textDecoration:"underline"}});var Xn=Object(a.b)(e=>({authFlow:e.splitTestSettings.authFlow||"save1"}))(class extends r.PureComponent{constructor(){var e,t,n;super(...arguments),n=(()=>{this.props.onDismiss&&this.props.onDismiss(),l.a.getInstance().logEvent("VIEWED_OWNED_USER_SNACKS")}),(t="_dismissModal")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}componentDidUpdate(e){!e.visible&&this.props.visible&&l.a.getInstance().logEvent("CREATED_USER_SNACK")}render(){const e=this.props.viewer?this.props.viewer.picture:null;return r.createElement(p.a,{visible:this.props.visible,onDismiss:this.props.onDismiss},e?r.createElement("div",{className:Object(i.css)(Gn.avatar)},r.createElement(Me,{source:e,size:80})):null,r.createElement("h2",{className:Object(i.css)(Gn.heading)},"Your Snack was saved"),r.createElement("p",{className:Object(i.css)(Gn.text)},"You can now find your Snack on your profile and link others to it. Share it with your friends!"),this.props.viewer?r.createElement("p",{className:Object(i.css)(Gn.caption)},r.createElement("a",{href:`https://expo.io/snacks/@${this.props.viewer.username}/`,onClick:this._dismissModal,target:"blank"},"View your Snacks")):null)}});const Gn=i.StyleSheet.create({avatar:{marginTop:16,marginBottom:24,textAlign:"center"},heading:{fontSize:"24px",fontWeight:500,lineHeight:"24px",textAlign:"center"},text:{marginBottom:24,fontSize:"16px",padding:"0 24px 0 24px",lineHeight:"22px",textAlign:"center"},caption:{fontSize:"16px",lineHeight:"22px",textAlign:"center"}});class er extends r.PureComponent{render(){return r.createElement(p.a,{visible:this.props.visible,onDismiss:this.props.onDismiss,title:"Couldn't save the Snack!"},r.createElement("p",{className:Object(i.css)(tr.text)},"An unknown error occurred when saving your Snack. Please try again later."))}}const tr=i.StyleSheet.create({text:{marginTop:12,fontSize:16,textAlign:"center"}});class nr extends r.Component{render(){return r.createElement(p.a,{visible:this.props.visible,onDismiss:this.props.onDismiss,title:"Experience already exists!"},r.createElement("p",{className:Object(i.css)(rr.text)},'You already have an experience published under "',this.props.username?`@${this.props.username}/${this.props.slug}`:this.props.slug,'" in your profile. Please choose another name for the Snack and save again.'),r.createElement(x.a,{large:!0,variant:"secondary",onClick:this.props.onEditName},"Choose another name"))}}const rr=i.StyleSheet.create({text:{marginTop:12,fontSize:16,textAlign:"center"}});function ar(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ir(e){let t=e.color,n=e.segments,a=void 0===n?12:n,s=e.segmentWidth,o=void 0===s?2:s,l=e.segmentLength,c=void 0===l?6:l,p=e.spacing,d=void 0===p?4:p,h=e.fadeTo,u=void 0===h?31/98:h,m=e.fadeSteps,g=void 0===m?6:m;const b=ar(Object(Ze.a)(),1)[0],f=void 0!==t?t:"dark"===b.theme?{red:255,green:255,blue:255,alpha:.5}:{red:70,green:48,blue:235,alpha:1},v=f.red,y=f.green,E=f.blue,x=f.alpha,w=2*o+d,C=(1-u)/g,S=[];for(let e=0;e<a;e++){const t=1-Math.min(e,g)*C,n=360*-e/a;S.push(r.createElement("line",{key:e,x1:"0",y1:w,x2:"0",y2:w+c,style:{opacity:t},transform:`rotate(${n})`}))}const k=`rgba(${v}, ${y}, ${E}, ${x})`,O=w+c+Math.ceil(o/2);return r.createElement("svg",{className:Object(i.css)(sr.indicator),width:2*O,height:2*O},r.createElement("g",{stroke:k,strokeWidth:o,strokeLinecap:"round",transform:`translate(${O}, ${O})`},S))}const sr=i.StyleSheet.create({indicator:{animationDuration:"1s",animationIterationCount:"infinite",animationName:{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},animationTimingFunction:"steps(12)"}});var or=Object(k.a)(class extends r.Component{render(){return r.createElement(p.a,{visible:this.props.visible,onDismiss:this.props.onDismiss,title:"Saving Snack…"},r.createElement("div",{className:Object(i.css)(lr.content)},r.createElement(ir,null)))}});const lr=i.StyleSheet.create({content:{margin:"16px 8px 12px"}});var cr=n(179);function pr(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function dr(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function s(e){pr(i,r,a,s,o,"next",e)}function o(e){pr(i,r,a,s,o,"throw",e)}s(void 0)})}}function hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ur=Object(We.a)(class extends r.Component{constructor(){var e,t,n;super(...arguments),e=this,hr(this,"state",{isPublishInProgress:!1,isPublishing:!1,hasShownEditNameDialog:!1}),hr(this,"_publishWithOptionsAsync",(n=dr(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isPublishing:!0}),t.prev=1,t.next=4,e.props.onPublishAsync(n);case 4:t.next=10;break;case 6:throw t.prev=6,t.t0=t.catch(1),/Experience .+ already exists/.test(t.t0.message)?e.props.onShowModal("publish-overwrite-experience-error"):e.props.onShowModal("publish-unknown-error"),t.t0;case 10:return t.prev=10,e.setState({isPublishing:!1}),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[1,6,10,13]])})),function(e){return n.apply(this,arguments)})),hr(this,"_handleSaveToProfile",dr(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Boolean(e.props.viewer)?(e.props.onShowModal("publish-working"),e._handlePublishAsync()):e.props.onShowModal("auth");case 2:case"end":return t.stop()}},t,this)}))),hr(this,"_handleSubmitMetadata",(t=dr(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.onSubmitMetadata(n,!1);case 2:return t.next=4,e._handlePublishAsync();case 4:case"end":return t.stop()}},t,this)})),function(e){return t.apply(this,arguments)})),hr(this,"_handlePublishAsync",dr(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({isPublishInProgress:!0}),n=Boolean(e.props.viewer),e.props.name&&(Object(cr.b)(e.props.name)||e.state.hasShownEditNameDialog)){t.next=7;break}e.props.onShowModal("publish-edit-name"),e.setState({hasShownEditNameDialog:!0}),t.next=16;break;case 7:if(!n){t.next=13;break}return t.next=10,e._publishWithOptionsAsync({allowedOnProfile:!0});case 10:e.props.onShowModal("publish-success"),t.next=16;break;case 13:return t.next=15,e._publishWithOptionsAsync({allowedOnProfile:!1});case 15:e.props.onShowModal("publish-prompt-save");case 16:case"end":return t.stop()}},t,this)}))),hr(this,"_handlePublishAbort",()=>{this.props.onHideModal(),this.setState({isPublishInProgress:!1})})}render(){const e=this.props,t=e.snackId,n=e.viewer,a=e.name,i=e.description,s=e.currentModal,o=e.children,l=this.state.isPublishInProgress;return r.createElement(r.Fragment,null,o({onPublishAsync:this._handlePublishAsync,isPublishing:this.state.isPublishing}),r.createElement(he,{visible:l&&"publish-edit-name"===s,title:"Save your Snack",action:this.state.isPublishing?"Saving…":"Save",isWorking:this.state.isPublishing,name:a,description:i,onSubmit:this._handleSubmitMetadata,onDismiss:this._handlePublishAbort}),r.createElement(He.a,{visible:l&&"auth"===s,onComplete:this._handleSaveToProfile,onDismiss:this._handlePublishAbort}),r.createElement(Kn,{visible:l&&"publish-prompt-save"===s,snackUrl:t?`https://snack.expo.io/${t}`:void 0,onPublish:this._handleSaveToProfile,isPublishing:this.state.isPublishing,onDismiss:this._handlePublishAbort}),r.createElement(Xn,{visible:l&&"publish-success"===s,viewer:n,onDismiss:this._handlePublishAbort}),r.createElement(er,{visible:l&&"publish-unknown-error"===s,onDismiss:this._handlePublishAbort}),r.createElement(or,{visible:l&&"publish-working"===s,onDismiss:this._handlePublishAbort}),r.createElement(nr,{visible:l&&"publish-overwrite-experience-error"===s,slug:a,username:n&&n.username,onEditName:()=>this.props.onShowModal("publish-edit-name"),onDismiss:this._handlePublishAbort}))}}),mr=n(627);n(880);function gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){br(e,t,n[t])})}return e}function br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fr(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function vr(e,t,n){return yr.apply(this,arguments)}function yr(){var e;return e=regeneratorRuntime.mark(function e(t,r,a){var i,s,o,l,c,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(kt.h)(t)){e.next=18;break}return e.next=3,n.e(14).then(n.bind(null,1073));case 3:if(i=e.sent,s=i.default,!(o=r.find(e=>Object(kt.d)(e.item.path)))){e.next=15;break}e.prev=7,l=gr({parser:"babel-eslint"},l=JSON.parse(o.item.content)),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(7),e.abrupt("return",[{startLineNumber:0,endLineNumber:0,startColumn:0,endColumn:0,severity:3,message:`Content of the ESLint config (${o.item.path}) is not valid JSON`,source:"ESLint"}]);case 15:return e.abrupt("return",s(t.item.content,l));case 18:if(!Object(kt.i)(t)||!Object(kt.j)(t.item.path)){e.next=24;break}return e.next=21,Promise.all([n.e(22),n.e(15)]).then(n.bind(null,1074));case 21:return c=e.sent,p=c.default,e.abrupt("return",p(t.item.content,a));case 24:return e.abrupt("return",[]);case 25:case"end":return e.stop()}},e,this,[[7,12]])}),(yr=function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function s(e){fr(i,r,a,s,o,"next",e)}function o(e){fr(i,r,a,s,o,"throw",e)}s(void 0)})}).apply(this,arguments)}var Er=n(675),xr=n(664),wr=n(48);function Cr(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Sr(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function s(e){Cr(i,r,a,s,o,"next",e)}function o(e){Cr(i,r,a,s,o,"throw",e)}s(void 0)})}}function kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Or=3e3,_r="Snack",jr="Write code in Expo's online editor and instantly use it on your phone.",Lr="Try this project on your phone! Use Expo's online editor to make changes and save your own copy.",Pr=1500,Dr=5e3;t.default=Object(xr.a)(Object(a.b)(e=>({viewer:e.viewer}))(class extends r.Component{constructor(){var e,t;super(...arguments),e=this,kr(this,"state",{loadedEditor:null,currentModal:null,currentBanner:null,isDownloading:!1,isMarkdownPreview:!0,deviceLogsShown:!1,lintErrors:[],shouldPreventRedirectWarning:!1,previousEntry:void 0}),kr(this,"_handleUnload",e=>{if("saved-draft"===this.props.saveStatus||"published"===this.props.saveStatus||this.state.shouldPreventRedirectWarning)return void this._allowRedirectWarning();const t="You have unsaved changes. Are you sure you want to leave this page?";return e.returnValue=t,t}),kr(this,"_lintNotDebounced",(t=Sr(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vr(n,e.props.fileEntries,e.props.sdkVersion);case 2:if((r=t.sent).length||e.state.lintErrors.length){t.next=5;break}return t.abrupt("return");case 5:e.setState({lintErrors:r});case 6:case"end":return t.stop()}},t,this)})),function(e){return t.apply(this,arguments)})),kr(this,"_lint",o()(this._lintNotDebounced,500)),kr(this,"_prettier",Sr(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=e.props.entry)&&!n.item.asset){t.next=3;break}return t.abrupt("return");case 3:if(r=n.item.content,!Object(kt.i)(n)){t.next=8;break}r=JSON.stringify(JSON.parse(r),null,2),t.next=11;break;case 8:return t.next=10,Object(Er.a)(n.item.path,r);case 10:r=t.sent;case 11:n.item.asset||r===n.item.content||e.props.onChangeCode(r);case 12:case"end":return t.stop()}},t,this)}))),kr(this,"_showBanner",(e,t)=>{this.setState({currentBanner:e}),setTimeout(()=>{this.setState(t=>t.currentBanner===e?{currentBanner:null}:t)},t)}),kr(this,"_restoreEmbedSession",()=>{const e=this.props,t=e.sessionID,n=e.onChangeCode;if("string"==typeof t)try{const e=localStorage.getItem(t);if(e){const t=JSON.parse(e);t&&("string"==typeof t.code&&n(t.code),"string"==typeof t.platform&&this.props.setPreferences({devicePreviewPlatform:t.platform}))}}catch(e){}finally{localStorage.removeItem(t)}}),kr(this,"_handleDismissEditModal",()=>{l.a.getInstance().logEvent("DISMISSED_AUTH_MODAL",{currentModal:this.state.currentModal}),this.setState({currentModal:null})}),kr(this,"_handleShowTitleDescriptionModal",()=>{this.setState({currentModal:"edit-info"})}),kr(this,"_handleShowDeviceInstructions",()=>{l.a.getInstance().logEvent("REQUESTED_QR_CODE"),this.setState({currentModal:"device-instructions"})}),kr(this,"_handleShowAuthModal",()=>{this.setState({currentModal:"auth"})}),kr(this,"_handleShowShortcuts",()=>{this.setState({currentModal:"shortcuts"})}),kr(this,"_handleShowPreviousSaves",()=>{this.setState({currentModal:"previous-saves"})}),kr(this,"_handleHideModal",()=>{this.setState({currentModal:null})}),kr(this,"_handleShowModal",e=>{this.setState({currentModal:e})}),kr(this,"_handleShowEmbedCode",()=>{this.props.params.id?(l.a.getInstance().logEvent("REQUESTED_EMBED"),this.setState({currentModal:"embed"})):this._showBanner("embed-unavailable",Dr)}),kr(this,"_handleOpenPath",e=>this.props.onFileEntriesChange(zn(this.props.fileEntries,e,!0))),kr(this,"_handleRemoveFile",e=>{const t=this.props.fileEntries.find(t=>t.item.path===e);t&&"folder"===t.item.type?this.props.fileEntries.forEach(t=>{let n=t.item;Object(kt.g)(n.path,e)&&this._EditorComponent&&this._EditorComponent.removePath(n.path)}):this._EditorComponent&&this._EditorComponent.removePath(e)}),kr(this,"_handleRenameFile",(e,t)=>{const n=this.props.fileEntries.find(t=>t.item.path===e);n&&"folder"===n.item.type?this.props.fileEntries.forEach(n=>{let r=n.item;if(Object(kt.g)(r.path,e)){const n=Object(kt.a)(r.path,e,t);this._EditorComponent&&this._EditorComponent.renamePath(r.path,n)}}):this._EditorComponent&&this._EditorComponent.renamePath(e,t)}),kr(this,"_EditorComponent",void 0),kr(this,"_showErrorPanel",()=>this.props.setPreferences({panelType:"errors"})),kr(this,"_showDeviceLogs",()=>this.props.setPreferences({panelType:"logs"})),kr(this,"_togglePanels",()=>this.props.setPreferences({panelsShown:!this.props.preferences.panelsShown})),kr(this,"_toggleFileTree",()=>this.props.setPreferences({fileTreeShown:!this.props.preferences.fileTreeShown})),kr(this,"_changeConnectionMethod",e=>this.props.setPreferences({deviceConnectionMethod:e})),kr(this,"_toggleDevicePreview",()=>this.props.setPreferences({devicePreviewShown:!this.props.preferences.devicePreviewShown})),kr(this,"_toggleEditorMode",()=>this.props.setPreferences({editorMode:"vim"===this.props.preferences.editorMode?"normal":"vim"})),kr(this,"_changeDevicePreviewPlatform",e=>this.props.setPreferences({devicePreviewPlatform:e})),kr(this,"_toggleTheme",()=>this.props.setPreferences({theme:"light"===this.props.preferences.theme?"dark":"light"})),kr(this,"_toggleMarkdownPreview",()=>this.setState(e=>({isMarkdownPreview:!e.isMarkdownPreview}))),kr(this,"_preventRedirectWarning",()=>this.setState({shouldPreventRedirectWarning:!0})),kr(this,"_allowRedirectWarning",()=>this.setState({shouldPreventRedirectWarning:!1}))}static getDerivedStateFromProps(e,t){if(e.entry!==t.previousEntry){const n=e.entry,r=t.previousEntry;let a=t.isMarkdownPreview;return!n||r&&n.item.path===r.item.path||"file"!==n.item.type||!n.item.path.endsWith(".md")||n.item.asset||n.item.content||(a=!1),{isMarkdownPreview:a,previousEntry:n}}return null}componentDidMount(){window.addEventListener("beforeunload",this._handleUnload),setTimeout(()=>{const e=this.props.entry;Object(Er.a)(Object(kt.k)(e)?e.item.path:"index.md","")},5e3),this.props.wasUpgraded&&this._showBanner("sdk-upgraded",Dr),this.props.sessionID&&this._restoreEmbedSession()}componentDidUpdate(e){this.props.entry!==e.entry&&this._lint(this.props.entry),e.connectedDevices!==this.props.connectedDevices&&(e.connectedDevices.length<this.props.connectedDevices.length&&(l.a.getInstance().logEvent("CONNECTED_DEVICE"),0===e.connectedDevices.length&&l.a.getInstance().startTimer("deviceConnected"),this._showBanner("connected",Pr)),e.connectedDevices.length>this.props.connectedDevices.length&&(0===this.props.connectedDevices.length?l.a.getInstance().logEvent("DISCONNECTED_DEVICE",{},"deviceConnected"):l.a.getInstance().logEvent("DISCONNECTED_DEVICE"),this._showBanner("disconnected",Pr))),e.sdkVersion!==this.props.sdkVersion&&this.props.connectedDevices.length&&this._showBanner("reconnect",Dr),e.autosaveEnabled===this.props.autosaveEnabled||this.props.autosaveEnabled||this._showBanner("autosave-disabled",Dr)}componentWillUnmount(){window.removeEventListener("beforeunload",this._handleUnload)}render(){var e=this;const t=this.state,a=t.currentModal,s=t.currentBanner,o=t.isDownloading,y=t.lintErrors,E=this.props,x=E.channel,w=E.entry,C=E.params,S=E.createdAt,k=E.saveHistory,O=E.saveStatus,_=E.viewer,j=E.loadingMessage,P=E.sendCodeOnChangeEnabled,M=E.sdkVersion,I=E.userAgent,N=E.connectedDevices,R=E.deviceLogs,T=E.deviceError,F=E.onSendCode,A=E.onReloadSnack,z=E.onClearDeviceLogs,$=E.onToggleSendCode,W=E.uploadFileAsync,U=E.preferences,B=E.name,V=E.description,H=[];T&&H.push(function(e){let t=e.loc||[0,0];return"number"==typeof e.line&&"number"==typeof e.column&&Number.isFinite(e.line)&&Number.isFinite(e.column)&&(t=[e.line||0,e.column||0]),{startLineNumber:t[0],endLineNumber:t[0],startColumn:t[1],endColumn:t[1],message:e.message,severity:4,source:"Device"}}(T)),H.push(...y);const Z=!!C.id,q=Object(cr.b)(B)?_r:B,Q=V===le.a?Z?Lr:jr:V;return r.createElement(m.a,null,this.state.loadedEditor?null:r.createElement(u.a,null),r.createElement(f.a,{name:q,description:Q,params:C}),r.createElement(ur,{snackId:C.id,sdkVersion:M,creatorUsername:this.props.creatorUsername,name:B,description:V,onSubmitMetadata:this.props.onSubmitMetadata,onPublishAsync:this.props.onPublishAsync,onShowModal:this._handleShowModal,onHideModal:this._handleHideModal,currentModal:a},t=>{let u=t.onPublishAsync;const m=function(){var t=Sr(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("published"===O){t.next=3;break}return e._showBanner("export-unavailable",Dr),t.abrupt("return");case 3:return e.setState({isDownloading:!0}),l.a.getInstance().logEvent("DOWNLOADED_CODE"),t.next=7,e.props.onDownloadAsync();case 7:e.setState({isDownloading:!1});case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}();return r.createElement(r.Fragment,null,r.createElement(h.b,{bindings:Et,onTrigger:e=>{const t={save:"published"===O?null:this.props.isResolving?null:u,tree:this._toggleFileTree,panels:this._togglePanels,format:this._prettier,shortcuts:this._handleShowShortcuts,update:F}[e];t&&t()}}),r.createElement(Qe,{name:B,description:V,createdAt:S,saveHistory:k,saveStatus:O,viewer:_,isDownloading:o,isResolving:this.props.isResolving,isEditModalVisible:"edit-info"===a,isAuthModalVisible:"auth"===a,onShowPreviousSaves:this._handleShowPreviousSaves,onShowEditModal:this._handleShowTitleDescriptionModal,onDismissEditModal:this._handleDismissEditModal,onSubmitMetadata:this.props.onSubmitMetadata,onShowAuthModal:this._handleShowAuthModal,onDismissAuthModal:this._handleHideModal,onShowQRCode:this._handleShowDeviceInstructions,onShowEmbedCode:this._handleShowEmbedCode,onDownloadCode:m,onPublishAsync:u,creatorUsername:this.props.creatorUsername}),r.createElement("div",{className:Object(i.css)(Mr.editorAreaOuterWrapper)},r.createElement("div",{className:Object(i.css)(Mr.editorAreaOuter)},r.createElement(g.a,null,r.createElement(Vn,{visible:U.fileTreeShown,entries:this.props.fileEntries,onEntriesChange:this.props.onFileEntriesChange,onRemoveFile:this._handleRemoveFile,onRenameFile:this._handleRenameFile,uploadFileAsync:W,onDownloadCode:m,preventRedirectWarning:this._preventRedirectWarning,hasSnackId:Z,saveStatus:O,sdkVersion:M}),r.createElement(c.a,{load:()=>{if(Object(wr.c)(I))return Promise.all([n.e(1),n.e(7)]).then(n.bind(null,661));let e;const t=Promise.all([n.e(18),n.e(6)]).then(n.bind(null,1070)).then(e=>({editor:e,type:"monaco"})),r=new Promise((t,r)=>{e=setTimeout(()=>{this._showBanner("slow-connection",Dr),Promise.all([n.e(1),n.e(7)]).then(n.bind(null,661)).then(t,r)},Or)}).then(e=>({editor:e,type:"simple"}));return Promise.race([t.catch(()=>r),r]).then(t=>{let n=t.editor,r=t.type;return this.setState({loadedEditor:r}),clearTimeout(e),n})}},e=>{let t=e.loaded,a=e.data;if(this._EditorComponent=a,!w||"file"!==w.item.type)return r.createElement(Lt,null);{if(w.item.asset)return r.createElement(_t,{entry:w});const e=w.item.content,s=w.item.path.endsWith(".md");if(s&&this.state.isMarkdownPreview)return r.createElement(r.Fragment,null,r.createElement(c.a,{load:()=>Promise.all([n.e(3),n.e(20),n.e(10)]).then(n.bind(null,1071))},t=>{let n=t.loaded,a=t.data;return n&&a?r.createElement(a,{source:e}):r.createElement(b.a,null)}),r.createElement("button",{className:Object(i.css)(Mr.previewToggle),onClick:this._toggleMarkdownPreview},r.createElement("svg",{width:"12px",height:"12px",viewBox:"0 0 18 18",className:Object(i.css)(Mr.previewToggleIcon)},r.createElement("g",{transform:"translate(-147.000000, -99.000000)"},r.createElement("g",{transform:"translate(144.000000, 96.000000)"},r.createElement("path",{d:"M3,17.25 L3,21 L6.75,21 L17.81,9.94 L14.06,6.19 L3,17.25 L3,17.25 Z M20.71,7.04 C21.1,6.65 21.1,6.02 20.71,5.63 L18.37,3.29 C17.98,2.9 17.35,2.9 16.96,3.29 L15.13,5.12 L18.88,8.87 L20.71,7.04 L20.71,7.04 Z"}))))));if(t&&a)return r.createElement(r.Fragment,null,r.createElement(a,{dependencies:this.props.dependencies,sdkVersion:M,entries:this.props.fileEntries,autoFocus:!w.state.isCreating,annotations:H,path:w.item.path,value:e,mode:U.editorMode,onValueChange:this.props.onChangeCode,onOpenPath:this._handleOpenPath,lineNumbers:Object(wr.c)(I)?"off":void 0}),s?r.createElement("button",{className:Object(i.css)(Mr.previewToggle),onClick:this._toggleMarkdownPreview},r.createElement("svg",{width:"16px",height:"12px",viewBox:"0 0 22 16",className:Object(i.css)(Mr.previewToggleIcon)},r.createElement("g",{transform:"translate(-145.000000, -1156.000000)"},r.createElement("g",{transform:"translate(144.000000, 1152.000000)"},r.createElement("path",{d:"M12,4.5 C7,4.5 2.73,7.61 1,12 C2.73,16.39 7,19.5 12,19.5 C17,19.5 21.27,16.39 23,12 C21.27,7.61 17,4.5 12,4.5 L12,4.5 Z M12,17 C9.24,17 7,14.76 7,12 C7,9.24 9.24,7 12,7 C14.76,7 17,9.24 17,12 C17,14.76 14.76,17 12,17 L12,17 Z M12,9 C10.34,9 9,10.34 9,12 C9,13.66 10.34,15 12,15 C13.66,15 15,13.66 15,12 C15,10.34 13.66,9 12,9 L12,9 Z"}))))):null)}return r.createElement(b.a,null)})),U.panelsShown?r.createElement(it,{annotations:H,deviceLogs:R,onShowErrorPanel:this._showErrorPanel,onShowDeviceLogs:this._showDeviceLogs,onTogglePanels:this._togglePanels,onClearDeviceLogs:z,panelType:U.panelType}):null),U.devicePreviewShown?r.createElement(D.default,{channel:x,snackId:C.id,sdkVersion:M,platform:U.devicePreviewPlatform,onChangePlatform:this._changeDevicePreviewPlatform,onClickRunOnPhone:this._handleShowDeviceInstructions,wasUpgraded:this.props.wasUpgraded,previewQueue:"main",canUserAuthenticate:!0}):null),r.createElement(Ct,{loadingMessage:j,annotations:H,connectedDevices:N,fileTreeShown:U.fileTreeShown,devicePreviewShown:U.devicePreviewShown,panelsShown:U.panelsShown,editorMode:U.editorMode,sendCodeOnChangeEnabled:P,sdkVersion:M,onSendCode:F,onReloadSnack:A,onToggleTheme:this._toggleTheme,onTogglePanels:this._togglePanels,onToggleFileTree:this._toggleFileTree,onToggleDevicePreview:this._toggleDevicePreview,onToggleSendCode:$,onToggleVimMode:"monaco"===this.state.loadedEditor?this._toggleEditorMode:void 0,onChangeSDKVersion:this.props.onChangeSDKVersion,onShowShortcuts:this._handleShowShortcuts,onPrettifyCode:this._prettier,theme:this.props.preferences.theme}),r.createElement(v.a,{visible:"device-instructions"===a,onSignIn:this.props.onSignIn,onDismiss:this._handleHideModal,onChangeMethod:this._changeConnectionMethod,method:U.deviceConnectionMethod,sdkVersion:M,channel:x,snackId:C.id,isEmbedded:!1,wasUpgraded:this.props.wasUpgraded,setDeviceId:this.props.setDeviceId,deviceId:this.props.deviceId}),r.createElement(p.a,{className:Object(i.css)(Mr.embedModal),autoSize:!1,visible:"embed"===a,onDismiss:this._handleHideModal},r.createElement(L,{params:C,sdkVersion:this.props.sdkVersion})),r.createElement(p.a,{visible:"previous-saves"===a,title:"Previous saves",onDismiss:this._handleHideModal},r.createElement(Qn,{saveHistory:k})),r.createElement(p.a,{visible:"shortcuts"===a,onDismiss:this._handleHideModal},r.createElement(xt,null)),r.createElement(d.a,{type:"success",visible:"connected"===s},"Device connected!"),r.createElement(d.a,{type:"error",visible:"disconnected"===s},"Device disconnected!"),r.createElement(d.a,{type:"info",visible:"autosave-disabled"===s},"Automatic saving has been disabled in this Snack because you have it open in another tab."),r.createElement(d.a,{type:"info",visible:"sdk-upgraded"===s},"This Snack was written in an older Expo version that is not longer supported. We have upgraded the Expo version to ",this.props.sdkVersion,".",r.createElement("br",null),"You might need to do some manual changes to make the Snack work correctly."),r.createElement(d.a,{type:"info",visible:"reconnect"===s},"Please close and reopen the Expo app on your phone to see the Expo version change."),r.createElement(d.a,{type:"info",visible:"slow-connection"===s},"Slow network detected. Trying to load a basic version of the editor. Some features such as linting and autocomplete may not work."),r.createElement(d.a,{type:"info",visible:"embed-unavailable"===s},"You need to save the Snack first to get an Embed code!"),r.createElement(d.a,{type:"info",visible:"export-unavailable"===s},"You need to save the Snack first to export the code!"),r.createElement(mr.a,{fileEntries:this.props.fileEntries,onEntriesChange:this.props.onFileEntriesChange,dependencyQueryParam:this.props.dependencyQueryParam,initialSdkVersion:this.props.initialSdkVersion,sdkVersion:this.props.sdkVersion,dependencies:this.props.dependencies,syncDependenciesAsync:this.props.syncDependenciesAsync}))}))}}));const Mr=i.StyleSheet.create({editorAreaOuter:{display:"flex",flex:1,flexDirection:"column",minWidth:0,minHeight:0},editorAreaOuterWrapper:{display:"flex",flex:1,flexDirection:"row",minHeight:0,minWidth:0},embedModal:{minWidth:0,minHeight:0,maxWidth:"calc(100% - 48px)",maxHeight:"calc(100% - 48px)"},previewToggle:{appearance:"none",position:"absolute",right:0,bottom:0,margin:32,padding:12,height:48,width:48,border:0,borderRadius:"50%",backgroundColor:Object(N.a)("accent"),color:Object(N.a)("accent-text"),outline:0,":focus-visible":{outline:"auto"}},previewToggleIcon:{fill:"currentColor",verticalAlign:-1}})},497:function(e,t,n){"use strict";var r=n(0),a=n(440),i=n(583),s=n(157);t.a=Object(s.a)(class extends r.Component{componentDidUpdate(e){this.props.visible&&this.props.viewer!==e.viewer&&this.props.onComplete()}render(){return r.createElement(a.a,{visible:this.props.visible,onDismiss:this.props.onDismiss,title:"Log in to Expo"},r.createElement(i.a,{onSuccess:this.props.onSuccess,onError:this.props.onError}))}})},540:function(e,t,n){"use strict";n(64);t.a=function(e){if(e.includes("."))switch(e.split(".").pop()){case"js":return"javascript";case"ts":case"tsx":return"typescript";case"json":return"json";case"css":return"css";case"html":return"html";case"md":return"markdown";default:return}}},586:function(e,t,n){e.exports=n.p+"assets/6b544ca2f9529bc2b22aa6978ebd5862.svg"},617:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),i=n(36),s=n.n(i),o=n(7),l=n(515),c=n(169),p=n.n(c),d=n(171),h=n(52),u=n(497),m=n(25),g=n(69),b=n.n(g),f=n(84),v=n(44);var y=n(2),E=n(157);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=Object(o.a)(Object(E.a)(class extends r.PureComponent{constructor(){super(...arguments),x(this,"state",{initialId:this.props.wasUpgraded?void 0:this.props.snackId,isLoggingIn:!1,payerCodeFormStatus:{type:"closed"},appetizeStatus:{type:"unknown"},autoplay:!1,viewer:this.props.viewer,platform:this.props.platform,sdkVersion:this.props.sdkVersion}),x(this,"handleLaunchRequest",()=>{m.a.getInstance().logEvent("RAN_EMULATOR")}),x(this,"handlePayerCodeLink",()=>{this.setState({payerCodeFormStatus:{type:"open",value:""}}),m.a.getInstance().logEvent("REQUESTED_APPETIZE_CODE",{},"previewQueue")}),x(this,"handlePostMessage",e=>{let t=e.origin,n=e.data;if(t===v.a.appetize.url){let e;switch(this.waitingForMessage&&(clearInterval(this.waitingForMessage),this.waitingForMessage=null),n){case"sessionRequested":e={type:"requested"};break;case"sessionConnecting":e={type:"connecting"};break;case"appLaunch":e={type:"launch"},"queued"===this.state.appetizeStatus.type&&m.a.getInstance().logEvent("APP_LAUNCHED",{},"previewQueue"),m.a.getInstance().clearTimer("previewQueue");break;case"timeoutWarning":e={type:"timeout"};break;case"sessionEnded":e={type:"unknown"},m.a.getInstance().clearTimer("previewQueue");break;case"accountQueued":e={type:"queued",position:void 0};break;default:n&&"accountQueuedPosition"===n.type&&(e={type:"queued",position:n.position},"queued"===this.state.appetizeStatus.type&&this.state.appetizeStatus.position||(m.a.getInstance().logEvent("QUEUED_FOR_PREVIEW",{queuePosition:e.position}),m.a.getInstance().startTimer("previewQueue")))}e&&this.setState({appetizeStatus:e})}}),x(this,"handlePayerCodeChange",e=>this.setState({payerCodeFormStatus:{type:"open",value:e.target.value}})),x(this,"handlePayerCodeSubmit",e=>{e.preventDefault(),this.props.viewer?this.savePayerCode():this.setState({isLoggingIn:!0}),m.a.getInstance().logEvent("ENTERED_APPETIZE_CODE",{},"previewQueue")}),x(this,"handleDismissAuthModal",()=>this.setState({isLoggingIn:!1})),x(this,"handleAuthComplete",()=>{this.setState({isLoggingIn:!1}),this.savePayerCode()}),x(this,"savePayerCode",()=>{const e=this.state.payerCodeFormStatus;"open"===e.type&&e.value&&(this.props.setMetadata({appetizeCode:e.value}),this.setState({payerCodeFormStatus:{type:"submitted"}}))}),x(this,"getAppetizeOptions",(e,t)=>({sdkVersion:e.sdkVersion,channel:e.channel,platform:e.platform,screenOnly:e.screenOnly,previewQueue:e.previewQueue,payerCode:e.payerCode,viewer:e.viewer,autoplay:t.autoplay,initialId:t.initialId})),x(this,"getAppetizeURL",()=>{const e=this.getAppetizeOptions(this.props,this.state),t=e.sdkVersion,n=e.channel,r=e.platform,a=e.screenOnly,i=e.payerCode,s=e.viewer;return function(e){let t=e.sdkVersion,n=e.channel,r=e.snackId,a=e.platform,i=e.screenOnly,s=void 0!==i&&i,o=e.scale,l=e.autoplay,c=e.payerCode,p=e.previewQueue,d=e.host,h=e.deviceColor,u=void 0===h?"black":h;const m=Object(f.a)({sdkVersion:t,channel:n,snackId:r,host:d}),g={screenOnly:s,scale:o,autoplay:!!l,embed:!0,device:"ios"===a?"iphone5":"nexus5",launchUrl:"android"===a?m:void 0,xdocMsg:!0,deviceColor:u,xDocMsg:!0,orientation:"portrait",debug:!0,pc:c},y=v.a.appetize.public_keys[p][a],E={EXKernelLaunchUrlDefaultsKey:m,EXKernelDisableNuxDefaultsKey:!0};return`${v.a.appetize.url}/embed/${y}?${b.a.stringify(g)}&params=${encodeURIComponent(JSON.stringify(E))}`}({sdkVersion:t,channel:n,autoplay:e.autoplay,snackId:e.initialId,platform:r,previewQueue:e.previewQueue,screenOnly:a,deviceColor:"dark"===this.props.theme?"white":"black",scale:a?"android"===r?80:76:void 0,payerCode:s&&s.user_metadata&&s.user_metadata.appetize_code?s.user_metadata.appetize_code:i})}),x(this,"iframe",r.createRef()),x(this,"waitingForMessage",void 0),x(this,"handleTapToPlay",()=>{this.waitingForMessage||(this.requestSession(),this.waitingForMessage=setInterval(this.requestSession,1e3))}),x(this,"requestSession",()=>{this.iframe.current&&this.iframe.current.contentWindow&&this.iframe.current.contentWindow.postMessage("requestSession","*")}),x(this,"endSession",()=>{this.iframe.current&&this.iframe.current.contentWindow&&this.iframe.current.contentWindow.postMessage("endSession","*")})}static getDerivedStateFromProps(e,t){return e.platform!==t.platform||e.sdkVersion!==t.sdkVersion||e.viewer!==t.viewer&&e.viewer&&e.viewer.user_metadata&&e.viewer.user_metadata.appetize_code?{appetizeStatus:{type:"unknown"},payerCodeFormStatus:{type:"closed"},autoplay:"submitted"===t.payerCodeFormStatus.type,platform:e.platform,sdkVersion:e.sdkVersion,viewer:e.viewer}:null}componentDidMount(){window.addEventListener("message",this.handlePostMessage),window.addEventListener("unload",this.endSession),this.props.onPopupUrl(this.getAppetizeURL())}componentDidUpdate(e,t){t.appetizeStatus!==this.state.appetizeStatus&&"requested"===this.state.appetizeStatus.type?this.handleLaunchRequest():p()(this.getAppetizeOptions(e,t),this.getAppetizeOptions(this.props,this.state))||this.props.onPopupUrl(this.getAppetizeURL())}componentWillUnmount(){this.endSession(),window.removeEventListener("message",this.handlePostMessage),window.removeEventListener("unload",this.endSession)}render(){const e=this.state,t=e.appetizeStatus,n=e.payerCodeFormStatus,i=this.props,s=i.platform,o=i.screenOnly,l=i.sdkVersion,c=i.canUserAuthenticate,p=i.onClickRunOnPhone,m=i.wasUpgraded,g=i.isPopupOpen,b=this.getAppetizeURL();return r.createElement(r.Fragment,null,r.createElement("div",{className:Object(a.css)(o?C.screen:C.device)},r.createElement("iframe",{ref:this.iframe,key:b+l,src:b,className:Object(a.css)(C.frame)}),"unknown"===t.type?r.createElement("div",{className:o?Object(a.css)(C.buttonContainerEmbedded):Object(a.css)(C.buttonContainer,"ios"===s?C.buttonContainerIOS:C.buttonContainerAndroid)},m?r.createElement("div",{style:{top:90},className:Object(a.css)(C.warningText)},"This Snack was written in an SDK version that is not longer supported and has been automatically upgraded."):null,r.createElement("a",{className:Object(a.css)(C.buttonLink),style:{top:160},onClick:this.handleTapToPlay},r.createElement("div",{className:Object(a.css)(C.buttonFrame)},r.createElement("span",{className:Object(a.css)(C.buttonText)},"Tap to play"))),g?null:r.createElement("a",{className:Object(a.css)(C.buttonLink),style:{top:250},onClick:p},r.createElement("div",{className:Object(a.css)(C.buttonFrame)},r.createElement("span",{className:Object(a.css)(C.buttonText)},"Run on your device")))):null),"queued"===t.type?r.createElement("div",{className:Object(a.css)(C.queueModal,C.centered)},r.createElement("div",{className:Object(a.css)(C.queueModalContent)},c?null:r.createElement("button",{className:Object(a.css)(C.dismissButton),onClick:()=>{this.setState({appetizeStatus:{type:"unknown"}})}},"X"),r.createElement("h4",null,"Device preview is at capacity"),r.createElement("p",null,"Queue position: ",t.position||1),r.createElement("h3",null,"Don't want to wait?"),c?r.createElement("div",null,r.createElement("p",null,"Use your own Appetize.io account"),r.createElement("div",{className:Object(a.css)(C.payerCodeForm)},"open"===n.type?r.createElement("form",{onSubmit:this.handlePayerCodeSubmit},r.createElement("input",{type:"text",value:n.value,onChange:this.handlePayerCodeChange,className:Object(a.css)(C.payerCodeInput)}),r.createElement(h.a,{type:"submit",variant:"primary",className:Object(a.css)(C.button,C.activateButton)},"Activate")):"submitted"===n.type?r.createElement("p",{className:Object(a.css)(C.payerCodeSubmitted)},"Payer code saved to profile!"):r.createElement(d.a,{variant:"primary",href:`${v.a.appetize.url}/payer-code`,onClick:this.handlePayerCodeLink,target:"_blank",className:Object(a.css)(C.button,C.blockButton)},"Use Appetize.io")),r.createElement("p",null,"or")):null,r.createElement(d.a,{variant:"primary",onClick:p,className:Object(a.css)(C.button,C.blockButton)},"Run it on your phone"))):null,r.createElement(u.a,{visible:this.state.isLoggingIn,onDismiss:this.handleDismissAuthModal,onComplete:this.handleAuthComplete}))}}));const C=a.StyleSheet.create({loading:{position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:1},centered:{display:"flex",alignItems:"center",justifyContent:"center",overflow:"auto"},device:{position:"relative",height:653,width:324,overflow:"hidden",margin:"auto",zIndex:2},screen:{position:"relative",height:508,width:285,overflow:"hidden",margin:"auto",zIndex:2},frame:{width:9999,height:9999,border:0,overflow:"hidden"},queueModal:{color:"white",backgroundColor:"rgba(36, 43, 56, 0.8)",position:"absolute",zIndex:2,top:0,left:0,right:0,bottom:0,padding:28},queueModalContent:{textAlign:"center"},qrcode:{margin:"21px 7px",height:208,width:208,backgroundColor:"#fff",border:"4px solid #fff",borderRadius:3},buttons:{display:"flex",flexDirection:"row"},button:{backgroundRepeat:"no-repeat",backgroundPosition:".5em center"},buttonPadding:{paddingLeft:"24px"},downloadButton:{flex:1},blockButton:{cursor:"pointer",display:"block",flex:1},activateButton:{":only-of-type":{marginLeft:0,marginRight:0,borderBottomLeftRadius:0,borderTopLeftRadius:0}},playstore:{backgroundImage:`url(${n(585)})`,backgroundSize:"20px 23px",paddingLeft:21,paddingRight:7},appstore:{backgroundImage:`url(${n(531)})`,backgroundSize:"12px 23px"},payerCodeForm:{height:50,display:"flex",flexDirection:"row"},payerCodeInput:{fontFamily:"var(--font-monospace)",padding:7,marginRight:-1,borderTopLeftRadius:3,borderBottomLeftRadius:3,width:133,border:`1px solid ${y.a.border}`,color:y.a.text.light},payerCodeSubmitted:{margin:"0 auto",padding:14,textAlign:"center",color:y.a.success},buttonContainer:{position:"absolute",top:0,left:0,bottom:0},buttonContainerAndroid:{right:24},buttonContainerIOS:{right:12},buttonContainerEmbedded:{position:"absolute",top:-70,left:0,right:0,bottom:0},warningText:{color:"white",fontSize:"12px",left:20,position:"absolute",width:"90%",paddingLeft:"20px",paddingRight:"20px",textAlign:"center"},buttonLink:{position:"absolute",left:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},buttonFrame:{height:70,width:225,backgroundColor:y.a.content.light,borderRadius:30,alignItems:"center",justifyContent:"center",display:"flex",paddingLeft:20,paddingRight:20},buttonText:{color:y.a.content.dark,fontSize:20,fontWeight:400},dismissButton:{position:"absolute",fontSize:20,fontWeight:400,right:0,top:0,zIndex:2,height:48,width:48,padding:16,border:0,backgroundSize:16,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:"transparent"}});n(64);const S="us-west-1",k="production"===Object({NODE_ENV:"production",API_SERVER_URL:"https://expo.io",SNACK_SEGMENT_KEY:"Ha0swpI6s2CVEMxK84cEmKmUVmBa1USu",IMPORT_SERVER_URL:"https://snackager.expo.io",BUILD_TIMESTAMP:1569366882194}).CONFIGURATOR_ENV?"snack-web-player":"snack-web-player-staging";var O=Object(o.a)(function(e){let t=e.sdkVersion,n=e.channel,i=e.snackId,s=e.onPopupUrl,o=e.theme;const l=Object(f.a)({sdkVersion:t,channel:n,snackId:i}),c=`https://s3.${S}.amazonaws.com/${k}/${t.split(".")[0]}/index.html?initialUrl=${encodeURIComponent(l)}`;return r.useEffect(()=>s(c),[c]),r.createElement("div",{className:Object(a.css)(_.pane)},r.createElement("iframe",{src:c,className:Object(a.css)(_.frame,"dark"===o?_.frameDark:_.frameLight)}))});const _=a.StyleSheet.create({pane:{position:"relative",display:"flex",flex:1,width:324,height:"100%"},frame:{position:"relative",width:"100%",height:"100%",border:0,zIndex:1},frameLight:{backgroundColor:"#fefefe"},frameDark:{backgroundColor:"#ffffff"},spinnerContainer:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center"}});var j=n(474);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"VISIBILITY_MEDIA_QUERY",function(){return P});const P="(min-width: 700px)";t.default=Object(o.a)(class extends r.PureComponent{constructor(){super(...arguments),L(this,"state",{isRendered:!1,isPopupOpen:!1}),L(this,"handleMediaQuery",e=>this.setState({isRendered:e.matches})),L(this,"handlePopup",()=>{this.popup=window.open(this.state.popupUrl,"snack-device","width=327,height=668"),this.popup&&this.popup.closed||(this.setState({isPopupOpen:!0}),clearInterval(this.popupInterval),this.popupInterval=setInterval(()=>{this.popup&&!this.popup.closed||(clearInterval(this.popupInterval),this.popup=null,this.setState({isPopupOpen:!1}))},500))}),L(this,"handlePopupUrl",e=>this.setState({popupUrl:e})),L(this,"popupInterval",void 0),L(this,"popup",null),L(this,"mql",null)}componentDidMount(){this.mql=window.matchMedia(P),this.mql.addListener(this.handleMediaQuery),this.handleMediaQuery(this.mql)}componentDidUpdate(e,t){this.state.isPopupOpen&&t.popupUrl!==this.state.popupUrl&&this.handlePopup()}componentWillUnmount(){clearInterval(this.popupInterval),this.mql&&this.mql.removeListener(this.handleMediaQuery),this.popup&&this.popup.close()}render(){const e=this.state,t=e.isPopupOpen;if(!e.isRendered||t)return null;const n=this.props,i=n.snackId,o=n.platform,c=n.screenOnly,p=n.onChangePlatform,d=n.canUserAuthenticate,h=n.wasUpgraded,u=n.previewQueue,m=n.sdkVersion,g=n.channel,b=n.payerCode,f=n.onClickRunOnPhone,v=n.theme,y=j.a.isAvailable("PLATFORM_WEB",m)?o:"web"!==o?o:"android";return r.createElement("div",{className:s()(Object(a.css)(c?D.centered:D.container),this.props.className)},c?null:r.createElement("div",{className:Object(a.css)(D.header)},j.a.isAvailable("PLATFORM_WEB",m)?r.createElement(l.a,{options:[{label:"Android",value:"android"},{label:"iOS",value:"ios"},{label:"Web",value:"web"}],value:y,onValueChange:p,className:Object(a.css)(D.toggleButtons)}):r.createElement(l.a,{options:[{label:"Android",value:"android"},{label:"iOS",value:"ios"}],value:y,onValueChange:p,className:Object(a.css)(D.toggleButtons)}),r.createElement("button",{className:Object(a.css)(D.popupButton,"dark"===v?D.popupButtonDark:D.popupButtonLight),onClick:this.handlePopup})),"web"===y?r.createElement(O,{sdkVersion:m,channel:g,snackId:i,onPopupUrl:this.handlePopupUrl}):r.createElement(w,{sdkVersion:m,channel:g,platform:y,canUserAuthenticate:d,wasUpgraded:h,previewQueue:u,snackId:i,screenOnly:c,payerCode:b,isPopupOpen:t,onPopupUrl:this.handlePopupUrl,onClickRunOnPhone:f}))}});const D=a.StyleSheet.create({container:{position:"relative",maxWidth:"50%",overflow:"auto",display:"none",flexDirection:"column",[`@media ${P}`]:{display:"flex"}},header:{display:"flex",alignItems:"center",justifyContent:"center",margin:"8px 0"},toggleButtons:{zIndex:3},popupButton:{position:"absolute",right:0,zIndex:2,appearance:"none",height:48,width:48,padding:16,margin:0,border:0,outline:0,opacity:.8,backgroundSize:16,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:"transparent",transition:".2s",":hover":{opacity:1}},popupButtonDark:{backgroundImage:`url(${n(514)})`},popupButtonLight:{backgroundImage:`url(${n(513)})`},centered:{display:"flex",alignItems:"center",justifyContent:"center",overflow:"auto"}})},667:function(e,t,n){"use strict";var r=n(0),a=n(1),i=n(7);t.a=Object(i.a)(function(e){return r.createElement("div",{className:Object(a.css)(s.placeholder)},r.createElement("img",{className:Object(a.css)(s.image),src:"dark"===e.theme?n(586):n(668)}),e.label)});const s=a.StyleSheet.create({placeholder:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,margin:24,fontSize:16,opacity:.5},image:{height:72,width:72,margin:16,opacity:.7}})},668:function(e,t,n){e.exports=n.p+"assets/bc351fd24f9bd32bc131f122d42c1a77.svg"},673:function(e){e.exports={parser:"babel-eslint",parserOptions:{sourceType:"module"},env:{es6:!0},plugins:["babel","flowtype","react","react-native"],globals:{__DEV__:!1,__dirname:!1,alert:!1,Blob:!1,cancelAnimationFrame:!1,cancelIdleCallback:!1,clearImmediate:!0,clearInterval:!1,clearTimeout:!1,console:!1,escape:!1,Event:!1,EventTarget:!1,exports:!1,fetch:!1,File:!1,FileReader:!1,FormData:!1,global:!1,Map:!0,module:!1,navigator:!1,process:!1,Promise:!0,requestAnimationFrame:!0,requestIdleCallback:!0,require:!1,Set:!0,setImmediate:!0,setInterval:!1,setTimeout:!1,WebSocket:!1,window:!1,XMLHttpRequest:!1},rules:{"constructor-super":"error","no-case-declarations":"error","no-class-assign":"error","no-cond-assign":"error","no-const-assign":"error","no-constant-condition":"error","no-control-regex":"error","no-delete-var":"error","no-dupe-args":"error","no-dupe-class-members":"error","no-dupe-keys":"error","no-duplicate-case":"error","no-empty":"error","no-empty-character-class":"error","no-empty-pattern":"error","no-ex-assign":"error","no-extra-boolean-cast":"error","no-extra-semi":"error","no-fallthrough":"error","no-func-assign":"error","no-global-assign":"error","no-inner-declarations":"error","no-invalid-regexp":"error","no-new-symbol":"error","no-obj-calls":"error","no-octal":"error","no-redeclare":"error","no-regex-spaces":"error","no-self-assign":"error","no-sparse-arrays":"error","no-this-before-super":"error","no-undef":"error","no-unexpected-multiline":"error","no-unreachable":"error","no-unsafe-finally":"error","no-unsafe-negation":"error","no-unused-labels":"error","require-yield":"error","use-isnan":"error","valid-typeof":"error","flowtype/array-style-complex-type":"off","flowtype/array-style-simple-type":"off","flowtype/boolean-style":"off","flowtype/define-flow-type":"error","flowtype/delimiter-dangle":"off","flowtype/generic-spacing":"off","flowtype/newline-after-flow-annotation":"off","flowtype/no-dupe-keys":"error","flowtype/no-existential-type":"off","flowtype/no-flow-fix-me-comments":"off","flowtype/no-mutable-array":"off","flowtype/no-primitive-constructor-types":"off","flowtype/no-types-missing-file-annotation":"off","flowtype/no-unused-expressions":"off","flowtype/no-weak-types":"off","flowtype/object-type-delimiter":"off","flowtype/require-exact-type":"off","flowtype/require-parameter-type":"off","flowtype/require-return-type":"off","flowtype/require-types-at-top":"off","flowtype/require-valid-file-annotation":"off","flowtype/require-variable-type":"off","flowtype/semi":"off","flowtype/sort-keys":"off","flowtype/space-after-type-colon":"off","flowtype/space-before-generic-bracket":"off","flowtype/space-before-type-colon":"off","flowtype/type-id-match":"off","flowtype/type-import-style":"off","flowtype/union-intersection-spacing":"off","flowtype/use-flow-type":"off","flowtype/valid-syntax":"off","react/jsx-no-duplicate-props":"error","react/jsx-no-undef":"error","react/jsx-uses-react":"error","react/jsx-uses-vars":"error","react/no-deprecated":"error","react/no-did-mount-set-state":"error","react/no-did-update-set-state":"error","react/no-direct-mutation-state":"error","react/no-is-mounted":"error","react/no-string-refs":"error","react/react-in-jsx-scope":"error","react/require-render-return":"error","react-native/no-unused-styles":"error"}}},675:function(e,t,n){"use strict";n.d(t,"a",function(){return o});n(10),n(65),n(41);var r=n(540);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function o(e,t){return l.apply(this,arguments)}function l(){var e;return e=regeneratorRuntime.mark(function e(t,i){var s,o,l,c,p,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=Object(r.a)(t),e.t0=s,e.next="javascript"===e.t0?4:"typescript"===e.t0?10:"markdown"===e.t0?16:21;break;case 4:return o="babel",e.next=7,n.e(23).then(n.t.bind(null,715,7));case 7:return e.t1=e.sent,l=[e.t1],e.abrupt("break",21);case 10:return o="typescript",e.next=13,n.e(25).then(n.t.bind(null,716,7));case 13:return e.t2=e.sent,l=[e.t2],e.abrupt("break",21);case 16:return o="markdown",e.next=19,Promise.all([n.e(23).then(n.t.bind(null,715,7)),n.e(25).then(n.t.bind(null,716,7)),n.e(24).then(n.t.bind(null,1066,7))]);case 19:return l=e.sent,e.abrupt("break",21);case 21:if(!o||!l){e.next=30;break}return e.next=24,n.e(26).then(n.t.bind(null,1067,7));case 24:return c=e.sent,e.next=27,n.e(13).then(n.t.bind(null,1068,3));case 27:return p=e.sent,d=p.default,e.abrupt("return",c.format(i,a({parser:o,plugins:l},d)));case 30:return e.abrupt("return",i);case 31:case"end":return e.stop()}},e,this)}),(l=function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){s(i,r,a,o,l,"next",e)}function l(e){s(i,r,a,o,l,"throw",e)}o(void 0)})}).apply(this,arguments)}},851:function(e,t,n){e.exports=n.p+"assets/2db6dc37ebe9412b1870eb92a4cf2966.svg"},852:function(e,t,n){e.exports=n.p+"assets/8d8826a0f65854e909f64c244e1230b9.svg"},853:function(e,t,n){e.exports=n.p+"assets/7f658e7f03b868a6e934914996462329.png"},854:function(e,t,n){e.exports=n.p+"assets/1f423990e6bfdae184f966c86dc22c36.png"},857:function(e,t,n){e.exports=n.p+"assets/c51d82a43adccd86d66477bfc28dd39b.png"},858:function(e,t,n){e.exports=n.p+"assets/48505df7e1a1eb25606c4789c3a3e235.png"},859:function(e,t,n){e.exports=n.p+"assets/9682e34e1f058feab75a232e3b9f33c6.png"},860:function(e,t,n){e.exports=n.p+"assets/018c0c569c00c0e707dcc30d1f40b354.png"},861:function(e,t,n){e.exports=n.p+"assets/af05a3786092b27e789607af7f5ab349.png"}}]);